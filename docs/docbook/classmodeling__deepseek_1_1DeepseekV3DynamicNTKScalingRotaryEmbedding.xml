<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<section xmlns="http://docbook.org/ns/docbook" version="5.0" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="_classmodeling__deepseek_1_1DeepseekV3DynamicNTKScalingRotaryEmbedding" xml:lang="en-US">
<title>modeling_deepseek.DeepseekV3DynamicNTKScalingRotaryEmbedding Class Reference</title>
<indexterm><primary>modeling_deepseek.DeepseekV3DynamicNTKScalingRotaryEmbedding</primary></indexterm>
Inheritance diagram for modeling_deepseek.DeepseekV3DynamicNTKScalingRotaryEmbedding:<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="classmodeling__deepseek_1_1DeepseekV3DynamicNTKScalingRotaryEmbedding__inherit__graph.svg"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
Collaboration diagram for modeling_deepseek.DeepseekV3DynamicNTKScalingRotaryEmbedding:<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="classmodeling__deepseek_1_1DeepseekV3DynamicNTKScalingRotaryEmbedding__coll__graph.svg"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
<simplesect>
    <title>Public Member Functions    </title>
        <itemizedlist>
            <listitem><para><link linkend="_classmodeling__deepseek_1_1DeepseekV3DynamicNTKScalingRotaryEmbedding_1ab9b04c5d525c2cab59b63c01d831887b">__init__</link> (self, <link linkend="_classmodeling__deepseek_1_1DeepseekV3DynamicNTKScalingRotaryEmbedding_1a6b5502b5e0630e580645660ebf46d942">dim</link>, <link linkend="_classmodeling__deepseek_1_1DeepseekV3DynamicNTKScalingRotaryEmbedding_1a8f9ba629164b9c536d3b6ac860adbf6c">max_position_embeddings</link>=2048, <link linkend="_classmodeling__deepseek_1_1DeepseekV3RotaryEmbedding_1a015f24ad70439d3fb24fc901df9f7309">base</link>=10000, device=None, <link linkend="_classmodeling__deepseek_1_1DeepseekV3DynamicNTKScalingRotaryEmbedding_1a7f3bf0b3f2166a8d7a92f3edb75b9ada">scaling_factor</link>=1.0)</para>
</listitem>
        </itemizedlist>
</simplesect>
Public Member Functions inherited from <link linkend="_classmodeling__deepseek_1_1DeepseekV3RotaryEmbedding">modeling_deepseek.DeepseekV3RotaryEmbedding</link>        <itemizedlist>
            <listitem><para><link linkend="_classmodeling__deepseek_1_1DeepseekV3RotaryEmbedding_1af3522f95c36edff62dcdf56d23ad6bfc">forward</link> (self, x, seq_len=None)</para>
</listitem>
        </itemizedlist>
<simplesect>
    <title>Public Attributes    </title>
        <itemizedlist>
            <listitem><para><link linkend="_classmodeling__deepseek_1_1DeepseekV3DynamicNTKScalingRotaryEmbedding_1a7f3bf0b3f2166a8d7a92f3edb75b9ada">scaling_factor</link></para>
</listitem>
            <listitem><para><link linkend="_classmodeling__deepseek_1_1DeepseekV3DynamicNTKScalingRotaryEmbedding_1a1aa7ce7af86c8ec232856099e8223969">max_seq_len_cached</link></para>
</listitem>
            <listitem><para><link linkend="_classmodeling__deepseek_1_1DeepseekV3DynamicNTKScalingRotaryEmbedding_1a8f9ba629164b9c536d3b6ac860adbf6c">max_position_embeddings</link></para>
</listitem>
            <listitem><para><link linkend="_classmodeling__deepseek_1_1DeepseekV3DynamicNTKScalingRotaryEmbedding_1a6b5502b5e0630e580645660ebf46d942">dim</link></para>
</listitem>
        </itemizedlist>
</simplesect>
Public Attributes inherited from <link linkend="_classmodeling__deepseek_1_1DeepseekV3RotaryEmbedding">modeling_deepseek.DeepseekV3RotaryEmbedding</link>        <itemizedlist>
            <listitem><para><link linkend="_classmodeling__deepseek_1_1DeepseekV3RotaryEmbedding_1aa8e8d5b5d8ed37578d435e3767839f23">dim</link></para>
</listitem>
            <listitem><para><link linkend="_classmodeling__deepseek_1_1DeepseekV3RotaryEmbedding_1aa2ff22ce2ac8aa4b7f5187637af71004">max_position_embeddings</link></para>
</listitem>
            <listitem><para><link linkend="_classmodeling__deepseek_1_1DeepseekV3RotaryEmbedding_1a015f24ad70439d3fb24fc901df9f7309">base</link></para>
</listitem>
            <listitem><para><link linkend="_classmodeling__deepseek_1_1DeepseekV3RotaryEmbedding_1aaacc804689a5d12fc0b95ffa05cf224b">max_seq_len_cached</link></para>
</listitem>
        </itemizedlist>
<simplesect>
    <title>Protected Member Functions    </title>
        <itemizedlist>
            <listitem><para><link linkend="_classmodeling__deepseek_1_1DeepseekV3DynamicNTKScalingRotaryEmbedding_1a7bc816eb10147956ba9463291fe22749">_set_cos_sin_cache</link> (self, seq_len, device, dtype)</para>
</listitem>
        </itemizedlist>
</simplesect>
<section>
<title>Detailed Description</title>

<para><literallayout><computeroutput>DeepseekV3RotaryEmbedding extended with Dynamic NTK scaling. Credits to the Reddit users /u/bloc97 and /u/emozilla</computeroutput></literallayout> </para>
</section>
<section>
<title>Constructor &amp; Destructor Documentation</title>
<anchor xml:id="_classmodeling__deepseek_1_1DeepseekV3DynamicNTKScalingRotaryEmbedding_1ab9b04c5d525c2cab59b63c01d831887b"/><section>
    <title>__init__()</title>
<indexterm><primary>__init__</primary><secondary>modeling_deepseek.DeepseekV3DynamicNTKScalingRotaryEmbedding</secondary></indexterm>
<indexterm><primary>modeling_deepseek.DeepseekV3DynamicNTKScalingRotaryEmbedding</primary><secondary>__init__</secondary></indexterm>
<para><computeroutput>modeling_deepseek.DeepseekV3DynamicNTKScalingRotaryEmbedding.__init__ ( self,  dim,  max_position_embeddings = <computeroutput>2048</computeroutput>
,  base = <computeroutput>10000</computeroutput>
,  device = <computeroutput>None</computeroutput>
,  scaling_factor = <computeroutput>1.0</computeroutput>
)</computeroutput></para><para>
Reimplemented from <link linkend="_classmodeling__deepseek_1_1DeepseekV3RotaryEmbedding_1af854f8ee2ae1c1b1ee3cbb3a79f6aeff">modeling_deepseek.DeepseekV3RotaryEmbedding</link>.</para>
</section>
</section>
<section>
<title>Member Function Documentation</title>
<anchor xml:id="_classmodeling__deepseek_1_1DeepseekV3DynamicNTKScalingRotaryEmbedding_1a7bc816eb10147956ba9463291fe22749"/><section>
    <title>_set_cos_sin_cache()</title>
<indexterm><primary>_set_cos_sin_cache</primary><secondary>modeling_deepseek.DeepseekV3DynamicNTKScalingRotaryEmbedding</secondary></indexterm>
<indexterm><primary>modeling_deepseek.DeepseekV3DynamicNTKScalingRotaryEmbedding</primary><secondary>_set_cos_sin_cache</secondary></indexterm>
<para><computeroutput>modeling_deepseek.DeepseekV3DynamicNTKScalingRotaryEmbedding._set_cos_sin_cache ( self,  seq_len,  device,  dtype)<computeroutput>[protected]</computeroutput></computeroutput></para>
<para><literallayout><computeroutput>Set the cosine and sine cache for positional embeddings.

This method calculates and caches the cosine and sine values for
positional embeddings based on the provided sequence length, device, and
data type. If the sequence length exceeds the maximum position
embeddings, it computes a scaling factor and the inverse frequency
values, which are then used to generate the cached cosine and sine
embeddings. The embeddings are stored as buffers for efficient access
during model inference.

Args:
    seq_len (int): The length of the input sequence.
    device (torch.device): The device on which to allocate tensors.
    dtype (torch.dtype): The data type for the cached embeddings.
</computeroutput></literallayout> </para>
<para>
Reimplemented from <link linkend="_classmodeling__deepseek_1_1DeepseekV3RotaryEmbedding_1ae01ef97644accdcf3fe2fe1b1aef2ca2">modeling_deepseek.DeepseekV3RotaryEmbedding</link>.</para>
Here is the caller graph for this function:<para>
    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="classmodeling__deepseek_1_1DeepseekV3DynamicNTKScalingRotaryEmbedding_a7bc816eb10147956ba9463291fe22749_icgraph.svg"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
</section>
</section>
<section>
<title>Member Data Documentation</title>
<anchor xml:id="_classmodeling__deepseek_1_1DeepseekV3DynamicNTKScalingRotaryEmbedding_1a6b5502b5e0630e580645660ebf46d942"/><section>
    <title>dim</title>
<indexterm><primary>dim</primary><secondary>modeling_deepseek.DeepseekV3DynamicNTKScalingRotaryEmbedding</secondary></indexterm>
<indexterm><primary>modeling_deepseek.DeepseekV3DynamicNTKScalingRotaryEmbedding</primary><secondary>dim</secondary></indexterm>
<para><computeroutput>modeling_deepseek.DeepseekV3DynamicNTKScalingRotaryEmbedding.dim</computeroutput></para></section>
<anchor xml:id="_classmodeling__deepseek_1_1DeepseekV3DynamicNTKScalingRotaryEmbedding_1a8f9ba629164b9c536d3b6ac860adbf6c"/><section>
    <title>max_position_embeddings</title>
<indexterm><primary>max_position_embeddings</primary><secondary>modeling_deepseek.DeepseekV3DynamicNTKScalingRotaryEmbedding</secondary></indexterm>
<indexterm><primary>modeling_deepseek.DeepseekV3DynamicNTKScalingRotaryEmbedding</primary><secondary>max_position_embeddings</secondary></indexterm>
<para><computeroutput>modeling_deepseek.DeepseekV3DynamicNTKScalingRotaryEmbedding.max_position_embeddings</computeroutput></para></section>
<anchor xml:id="_classmodeling__deepseek_1_1DeepseekV3DynamicNTKScalingRotaryEmbedding_1a1aa7ce7af86c8ec232856099e8223969"/><section>
    <title>max_seq_len_cached</title>
<indexterm><primary>max_seq_len_cached</primary><secondary>modeling_deepseek.DeepseekV3DynamicNTKScalingRotaryEmbedding</secondary></indexterm>
<indexterm><primary>modeling_deepseek.DeepseekV3DynamicNTKScalingRotaryEmbedding</primary><secondary>max_seq_len_cached</secondary></indexterm>
<para><computeroutput>modeling_deepseek.DeepseekV3DynamicNTKScalingRotaryEmbedding.max_seq_len_cached</computeroutput></para></section>
<anchor xml:id="_classmodeling__deepseek_1_1DeepseekV3DynamicNTKScalingRotaryEmbedding_1a7f3bf0b3f2166a8d7a92f3edb75b9ada"/><section>
    <title>scaling_factor</title>
<indexterm><primary>scaling_factor</primary><secondary>modeling_deepseek.DeepseekV3DynamicNTKScalingRotaryEmbedding</secondary></indexterm>
<indexterm><primary>modeling_deepseek.DeepseekV3DynamicNTKScalingRotaryEmbedding</primary><secondary>scaling_factor</secondary></indexterm>
<para><computeroutput>modeling_deepseek.DeepseekV3DynamicNTKScalingRotaryEmbedding.scaling_factor</computeroutput></para></section>
<para>
The documentation for this class was generated from the following file:</para>
/tmp/github_repos_arch_doc_gen/sumansaurabh/deeseek-model-visualizer/<link linkend="_modeling__deepseek_8py">modeling_deepseek.py</link></section>
</section>
