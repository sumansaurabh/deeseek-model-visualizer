{\rtf1\ansi\ansicpg1252\uc1 \deff0\deflang1033\deflangfe1033
{\fonttbl {\f0\froman\fcharset0\fprq2{\*\panose 02020603050405020304}Times New Roman;}
{\f1\fswiss\fcharset0\fprq2{\*\panose 020b0604020202020204}Arial;}
{\f2\fmodern\fcharset0\fprq1{\*\panose 02070309020205020404}Courier New;}
{\f3\froman\fcharset2\fprq2{\*\panose 05050102010706020507}Symbol;}
}
{\colortbl;\red0\green0\blue0;\red0\green0\blue255;\red0\green255\blue255;\red0\green255\blue0;\red255\green0\blue255;\red255\green0\blue0;\red255\green255\blue0;\red255\green255\blue255;\red0\green0\blue128;\red0\green128\blue128;\red0\green128\blue0;\red128\green0\blue128;\red128\green0\blue0;\red128\green128\blue0;\red128\green128\blue128;\red192\green192\blue192;\red0\green128\blue0;\red96\green64\blue32;\rede0\green128\blue0;\red128\green0\blue0;\red128\green96\blue32;\red0\green32\blue128;\red0\green128\blue128;\red255\green0\blue255;\red0\green0\blue0;\red112\green0\blue112;\red255\green0\blue0;}
{\stylesheet
{\widctlpar\adjustright \fs20\cgrid \snext0 Normal;}
{\paperw11900\paperh16840\margl1800\margr1800\margt1440\margb1440\gutter0\ltrsect}
{\s1\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs36\kerning36\cgrid \sbasedon0 \snext0 heading 1;}
{\s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid \sbasedon0 \snext0 heading 2;}
{\s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid \sbasedon0 \snext0 heading 3;}
{\s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid \sbasedon0 \snext0 heading 4;}{\*\cs10 \additive Default Paragraph Font;}
{\s5\sb90\sa30\keepn\widctlpar\adjustright \b\f1\fs20\cgrid \sbasedon0 \snext0 heading 5;}{\*\cs10 \additive Default Paragraph Font;}
{\s15\qc\sb240\sa60\widctlpar\outlinelevel0\adjustright \b\f1\fs32\kerning28\cgrid \sbasedon0 \snext15 Title;}
{\s16\qc\sa60\widctlpar\outlinelevel1\adjustright \f1\cgrid \sbasedon0 \snext16 Subtitle;}
{\s17\sa60\sb30\widctlpar\qj \fs22\cgrid \sbasedon0 \snext17 BodyText;}
{\s18\widctlpar\fs22\cgrid \sbasedon0 \snext18 DenseText;}
{\s28\widctlpar\tqc\tx4320\tqr\tx8640\adjustright \fs20\cgrid \sbasedon0 \snext28 header;}
{\s29\widctlpar\tqc\tx4320\tqr\tx8640\qr\adjustright \fs20\cgrid \sbasedon0 \snext29 footer;}
{\s30\li360\sa60\sb120\keepn\widctlpar\adjustright \b\f1\fs20\cgrid \sbasedon0 \snext30 GroupHeader;}
{\s40\li0\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid \sbasedon0 \snext41 Code Example 0;}
{\s41\li360\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid \sbasedon0 \snext42 Code Example 1;}
{\s42\li720\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid \sbasedon0 \snext43 Code Example 2;}
{\s43\li1080\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid \sbasedon0 \snext44 Code Example 3;}
{\s44\li1440\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid \sbasedon0 \snext45 Code Example 4;}
{\s45\li1800\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid \sbasedon0 \snext46 Code Example 5;}
{\s46\li2160\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid \sbasedon0 \snext47 Code Example 6;}
{\s47\li2520\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid \sbasedon0 \snext48 Code Example 7;}
{\s48\li2880\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid \sbasedon0 \snext49 Code Example 8;}
{\s49\li3240\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid \sbasedon0 \snext50 Code Example 9;}
{\s50\li3600\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid \sbasedon0 \snext51 Code Example 10;}
{\s51\li3960\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid \sbasedon0 \snext52 Code Example 11;}
{\s52\li4320\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid \sbasedon0 \snext53 Code Example 12;}
{\s53\li4680\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid \sbasedon0 \snext53 Code Example 13;}
{\s60\li0\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid \sbasedon0 \snext61 List Continue 0;}
{\s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid \sbasedon0 \snext62 List Continue 1;}
{\s62\li720\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid \sbasedon0 \snext63 List Continue 2;}
{\s63\li1080\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid \sbasedon0 \snext64 List Continue 3;}
{\s64\li1440\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid \sbasedon0 \snext65 List Continue 4;}
{\s65\li1800\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid \sbasedon0 \snext66 List Continue 5;}
{\s66\li2160\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid \sbasedon0 \snext67 List Continue 6;}
{\s67\li2520\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid \sbasedon0 \snext68 List Continue 7;}
{\s68\li2880\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid \sbasedon0 \snext69 List Continue 8;}
{\s69\li3240\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid \sbasedon0 \snext70 List Continue 9;}
{\s70\li3600\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid \sbasedon0 \snext71 List Continue 10;}
{\s71\li3960\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid \sbasedon0 \snext72 List Continue 11;}
{\s72\li4320\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid \sbasedon0 \snext73 List Continue 12;}
{\s73\li4680\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid \sbasedon0 \snext73 List Continue 13;}
{\s80\li0\widctlpar\ql\adjustright \fs20\cgrid \sbasedon0 \snext81 DescContinue 0;}
{\s81\li360\widctlpar\ql\adjustright \fs20\cgrid \sbasedon0 \snext82 DescContinue 1;}
{\s82\li720\widctlpar\ql\adjustright \fs20\cgrid \sbasedon0 \snext83 DescContinue 2;}
{\s83\li1080\widctlpar\ql\adjustright \fs20\cgrid \sbasedon0 \snext84 DescContinue 3;}
{\s84\li1440\widctlpar\ql\adjustright \fs20\cgrid \sbasedon0 \snext85 DescContinue 4;}
{\s85\li1800\widctlpar\ql\adjustright \fs20\cgrid \sbasedon0 \snext86 DescContinue 5;}
{\s86\li2160\widctlpar\ql\adjustright \fs20\cgrid \sbasedon0 \snext87 DescContinue 6;}
{\s87\li2520\widctlpar\ql\adjustright \fs20\cgrid \sbasedon0 \snext88 DescContinue 7;}
{\s88\li2880\widctlpar\ql\adjustright \fs20\cgrid \sbasedon0 \snext89 DescContinue 8;}
{\s89\li3240\widctlpar\ql\adjustright \fs20\cgrid \sbasedon0 \snext90 DescContinue 9;}
{\s90\li3600\widctlpar\ql\adjustright \fs20\cgrid \sbasedon0 \snext91 DescContinue 10;}
{\s91\li3960\widctlpar\ql\adjustright \fs20\cgrid \sbasedon0 \snext92 DescContinue 11;}
{\s92\li4320\widctlpar\ql\adjustright \fs20\cgrid \sbasedon0 \snext93 DescContinue 12;}
{\s93\li4680\widctlpar\ql\adjustright \fs20\cgrid \sbasedon0 \snext93 DescContinue 13;}
{\s100\li0\sa30\sb30\widctlpar\tqr\tldot\tx8640\adjustright \fs20\cgrid \sbasedon0 \snext101 LatexTOC 0;}
{\s101\li360\sa27\sb27\widctlpar\tqr\tldot\tx8640\adjustright \fs20\cgrid \sbasedon0 \snext102 LatexTOC 1;}
{\s102\li720\sa24\sb24\widctlpar\tqr\tldot\tx8640\adjustright \fs20\cgrid \sbasedon0 \snext103 LatexTOC 2;}
{\s103\li1080\sa21\sb21\widctlpar\tqr\tldot\tx8640\adjustright \fs20\cgrid \sbasedon0 \snext104 LatexTOC 3;}
{\s104\li1440\sa18\sb18\widctlpar\tqr\tldot\tx8640\adjustright \fs20\cgrid \sbasedon0 \snext105 LatexTOC 4;}
{\s105\li1800\sa15\sb15\widctlpar\tqr\tldot\tx8640\adjustright \fs20\cgrid \sbasedon0 \snext106 LatexTOC 5;}
{\s106\li2160\sa12\sb12\widctlpar\tqr\tldot\tx8640\adjustright \fs20\cgrid \sbasedon0 \snext107 LatexTOC 6;}
{\s107\li2520\sa9\sb9\widctlpar\tqr\tldot\tx8640\adjustright \fs20\cgrid \sbasedon0 \snext108 LatexTOC 7;}
{\s108\li2880\sa6\sb6\widctlpar\tqr\tldot\tx8640\adjustright \fs20\cgrid \sbasedon0 \snext109 LatexTOC 8;}
{\s109\li3240\sa3\sb3\widctlpar\tqr\tldot\tx8640\adjustright \fs20\cgrid \sbasedon0 \snext110 LatexTOC 9;}
{\s110\li3600\sa3\sb3\widctlpar\tqr\tldot\tx8640\adjustright \fs20\cgrid \sbasedon0 \snext111 LatexTOC 10;}
{\s111\li3960\sa3\sb3\widctlpar\tqr\tldot\tx8640\adjustright \fs20\cgrid \sbasedon0 \snext112 LatexTOC 11;}
{\s112\li4320\sa3\sb3\widctlpar\tqr\tldot\tx8640\adjustright \fs20\cgrid \sbasedon0 \snext113 LatexTOC 12;}
{\s113\li4680\sa3\sb3\widctlpar\tqr\tldot\tx8640\adjustright \fs20\cgrid \sbasedon0 \snext113 LatexTOC 13;}
{\s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid \sbasedon0 \snext121 \sautoupd List Bullet 0;}
{\s121\fi-360\li720\widctlpar\jclisttab\tx720{\*\pn \pnlvlbody\ilvl0\ls2\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid \sbasedon0 \snext122 \sautoupd List Bullet 1;}
{\s122\fi-360\li1080\widctlpar\jclisttab\tx1080{\*\pn \pnlvlbody\ilvl0\ls3\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid \sbasedon0 \snext123 \sautoupd List Bullet 2;}
{\s123\fi-360\li1440\widctlpar\jclisttab\tx1440{\*\pn \pnlvlbody\ilvl0\ls4\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid \sbasedon0 \snext124 \sautoupd List Bullet 3;}
{\s124\fi-360\li1800\widctlpar\jclisttab\tx1800{\*\pn \pnlvlbody\ilvl0\ls5\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid \sbasedon0 \snext125 \sautoupd List Bullet 4;}
{\s125\fi-360\li2160\widctlpar\jclisttab\tx2160{\*\pn \pnlvlbody\ilvl0\ls6\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid \sbasedon0 \snext126 \sautoupd List Bullet 5;}
{\s126\fi-360\li2520\widctlpar\jclisttab\tx2520{\*\pn \pnlvlbody\ilvl0\ls7\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid \sbasedon0 \snext127 \sautoupd List Bullet 6;}
{\s127\fi-360\li2880\widctlpar\jclisttab\tx2880{\*\pn \pnlvlbody\ilvl0\ls8\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid \sbasedon0 \snext128 \sautoupd List Bullet 7;}
{\s128\fi-360\li3240\widctlpar\jclisttab\tx3240{\*\pn \pnlvlbody\ilvl0\ls9\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid \sbasedon0 \snext129 \sautoupd List Bullet 8;}
{\s129\fi-360\li3600\widctlpar\jclisttab\tx3600{\*\pn \pnlvlbody\ilvl0\ls10\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid \sbasedon0 \snext130 \sautoupd List Bullet 9;}
{\s130\fi-360\li3960\widctlpar\jclisttab\tx3960{\*\pn \pnlvlbody\ilvl0\ls11\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid \sbasedon0 \snext131 \sautoupd List Bullet 10;}
{\s131\fi-360\li4320\widctlpar\jclisttab\tx4320{\*\pn \pnlvlbody\ilvl0\ls12\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid \sbasedon0 \snext132 \sautoupd List Bullet 11;}
{\s132\fi-360\li4680\widctlpar\jclisttab\tx4680{\*\pn \pnlvlbody\ilvl0\ls13\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid \sbasedon0 \snext133 \sautoupd List Bullet 12;}
{\s133\fi-360\li5040\widctlpar\jclisttab\tx5040{\*\pn \pnlvlbody\ilvl0\ls14\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid \sbasedon0 \snext133 \sautoupd List Bullet 13;}
{\s140\fi-360\li360\widctlpar\fs20\cgrid \sbasedon0 \snext141 \sautoupd List Enum 0;}
{\s141\fi-360\li720\widctlpar\fs20\cgrid \sbasedon0 \snext142 \sautoupd List Enum 1;}
{\s142\fi-360\li1080\widctlpar\fs20\cgrid \sbasedon0 \snext143 \sautoupd List Enum 2;}
{\s143\fi-360\li1440\widctlpar\fs20\cgrid \sbasedon0 \snext144 \sautoupd List Enum 3;}
{\s144\fi-360\li1800\widctlpar\fs20\cgrid \sbasedon0 \snext145 \sautoupd List Enum 4;}
{\s145\fi-360\li2160\widctlpar\fs20\cgrid \sbasedon0 \snext146 \sautoupd List Enum 5;}
{\s146\fi-360\li2520\widctlpar\fs20\cgrid \sbasedon0 \snext147 \sautoupd List Enum 6;}
{\s147\fi-360\li2880\widctlpar\fs20\cgrid \sbasedon0 \snext148 \sautoupd List Enum 7;}
{\s148\fi-360\li3240\widctlpar\fs20\cgrid \sbasedon0 \snext149 \sautoupd List Enum 8;}
{\s149\fi-360\li3600\widctlpar\fs20\cgrid \sbasedon0 \snext150 \sautoupd List Enum 9;}
{\s150\fi-360\li3960\widctlpar\fs20\cgrid \sbasedon0 \snext151 \sautoupd List Enum 10;}
{\s151\fi-360\li4320\widctlpar\fs20\cgrid \sbasedon0 \snext152 \sautoupd List Enum 11;}
{\s152\fi-360\li4680\widctlpar\fs20\cgrid \sbasedon0 \snext153 \sautoupd List Enum 12;}
{\s153\fi-360\li5040\widctlpar\fs20\cgrid \sbasedon0 \snext153 \sautoupd List Enum 13;}
}
{\info 
{\title {\comment deeseek-model-visualizer }deeseek-model-visualizer}
{\comment Generated by doxygen 1.10.0.}
}\pard\plain 
\sectd\pgnlcrm
{\footer \s29\widctlpar\tqc\tx4320\tqr\tx8640\qr\adjustright \fs20\cgrid {\chpgn}}
\pard\plain \s16\qc\sa60\widctlpar\outlinelevel1\adjustright \f1\cgrid 
\vertalc\qc\par\par\par\par\par\par\par
\pard\plain \s15\qc\sb240\sa60\widctlpar\outlinelevel0\adjustright \b\f1\fs32\kerning28\cgrid 
{\field\fldedit {\*\fldinst TITLE \\*MERGEFORMAT}{\fldrslt deeseek-model-visualizer}}\par
\pard\plain \s16\qc\sa60\widctlpar\outlinelevel1\adjustright \f1\cgrid 
\par
\par\par\par\par\par\par\par\par\par\par\par\par
\pard\plain \s16\qc\sa60\widctlpar\outlinelevel1\adjustright \f1\cgrid 
{\field\fldedit {\*\fldinst AUTHOR \\*MERGEFORMAT}{\fldrslt AUTHOR}}\par
Version \par\page\page\vertalt
\pard\plain 
\s1\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs36\kerning36\cgrid Table of Contents\par
\pard\plain \par
{\field\fldedit {\*\fldinst TOC \\f \\*MERGEFORMAT}{\fldrslt Table of contents}}\par
\pard\plain 
\sect \sbkpage \pgndec \pgnrestart
\sect \sectd \sbknone
{\footer \s29\widctlpar\tqc\tx4320\tqr\tx8640\qr\adjustright \fs20\cgrid {\chpgn}}

\pard\plain \sect\sbkpage
\s1\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs36\kerning36\cgrid 
Namespace Index\par \pard\plain 
{\tc \v Namespace Index}
\pard\plain \s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
Namespace List\par \pard\plain 
{
\pard\plain \s17\sa60\sb30\widctlpar\qj \fs22\cgrid Here is a list of all namespaces with brief descriptions:}
{
\par
\pard\plain \s101\li360\sa27\sb27\widctlpar\tqr\tldot\tx8640\adjustright \fs20\cgrid 
{\b {\b modeling_deepseek} } \tab {\field\fldedit {\*\fldinst PAGEREF AAAAAAAAAB \\*MERGEFORMAT}{\fldrslt pagenum}}
\par
\par}
\pard\plain \sect\sbkpage
\s1\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs36\kerning36\cgrid 
Hierarchical Index\par \pard\plain 
{\tc \v Hierarchical Index}
\pard\plain \s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
Class Hierarchy\par \pard\plain 
{
\pard\plain \s17\sa60\sb30\widctlpar\qj \fs22\cgrid This inheritance list is sorted roughly, but not completely, alphabetically:}
{
\par
\pard\plain \s101\li360\sa27\sb27\widctlpar\tqr\tldot\tx8640\adjustright \fs20\cgrid 
nn.Module
{
\par
\pard\plain \s102\li720\sa24\sb24\widctlpar\tqr\tldot\tx8640\adjustright \fs20\cgrid 
modeling_deepseek.DeepseekV3Attention\tab {\field\fldedit {\*\fldinst PAGEREF AAAAAAAAAQ \\*MERGEFORMAT}{\fldrslt pagenum}}
{
\par
\pard\plain \s103\li1080\sa21\sb21\widctlpar\tqr\tldot\tx8640\adjustright \fs20\cgrid 
modeling_deepseek.DeepseekV3FlashAttention2\tab {\field\fldedit {\*\fldinst PAGEREF AAAAAAAACM \\*MERGEFORMAT}{\fldrslt pagenum}}
\par
}\par
modeling_deepseek.DeepseekV3DecoderLayer\tab {\field\fldedit {\*\fldinst PAGEREF AAAAAAAABV \\*MERGEFORMAT}{\fldrslt pagenum}}
\par
modeling_deepseek.DeepseekV3MLP\tab {\field\fldedit {\*\fldinst PAGEREF AAAAAAAADY \\*MERGEFORMAT}{\fldrslt pagenum}}
\par
modeling_deepseek.DeepseekV3MoE\tab {\field\fldedit {\*\fldinst PAGEREF AAAAAAAAEU \\*MERGEFORMAT}{\fldrslt pagenum}}
\par
modeling_deepseek.DeepseekV3RMSNorm\tab {\field\fldedit {\*\fldinst PAGEREF AAAAAAAAFP \\*MERGEFORMAT}{\fldrslt pagenum}}
\par
modeling_deepseek.DeepseekV3RotaryEmbedding\tab {\field\fldedit {\*\fldinst PAGEREF AAAAAAAAFU \\*MERGEFORMAT}{\fldrslt pagenum}}
{
\par
\pard\plain \s103\li1080\sa21\sb21\widctlpar\tqr\tldot\tx8640\adjustright \fs20\cgrid 
modeling_deepseek.DeepseekV3DynamicNTKScalingRotaryEmbedding\tab {\field\fldedit {\*\fldinst PAGEREF AAAAAAAACD \\*MERGEFORMAT}{\fldrslt pagenum}}
\par
modeling_deepseek.DeepseekV3LinearScalingRotaryEmbedding\tab {\field\fldedit {\*\fldinst PAGEREF AAAAAAAADT \\*MERGEFORMAT}{\fldrslt pagenum}}
\par
modeling_deepseek.DeepseekV3YarnRotaryEmbedding\tab {\field\fldedit {\*\fldinst PAGEREF AAAAAAAAGC \\*MERGEFORMAT}{\fldrslt pagenum}}
\par
}\par
modeling_deepseek.MoEGate\tab {\field\fldedit {\*\fldinst PAGEREF AAAAAAAAGL \\*MERGEFORMAT}{\fldrslt pagenum}}
\par
}\par
PreTrainedModel
{
\par
\pard\plain \s102\li720\sa24\sb24\widctlpar\tqr\tldot\tx8640\adjustright \fs20\cgrid 
modeling_deepseek.DeepseekV3PreTrainedModel\tab {\field\fldedit {\*\fldinst PAGEREF AAAAAAAAFG \\*MERGEFORMAT}{\fldrslt pagenum}}
{
\par
\pard\plain \s103\li1080\sa21\sb21\widctlpar\tqr\tldot\tx8640\adjustright \fs20\cgrid 
modeling_deepseek.DeepseekV3ForCausalLM\tab {\field\fldedit {\*\fldinst PAGEREF AAAAAAAACW \\*MERGEFORMAT}{\fldrslt pagenum}}
\par
modeling_deepseek.DeepseekV3ForSequenceClassification\tab {\field\fldedit {\*\fldinst PAGEREF AAAAAAAADL \\*MERGEFORMAT}{\fldrslt pagenum}}
\par
modeling_deepseek.DeepseekV3Model\tab {\field\fldedit {\*\fldinst PAGEREF AAAAAAAAEI \\*MERGEFORMAT}{\fldrslt pagenum}}
\par
}\par
}\par
}
\pard\plain \sect\sbkpage
\s1\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs36\kerning36\cgrid 
Class Index\par \pard\plain 
{\tc \v Class Index}
\pard\plain \s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
Class List\par \pard\plain 
{
\pard\plain \s17\sa60\sb30\widctlpar\qj \fs22\cgrid Here are the classes, structs, unions and interfaces with brief descriptions:}
{
\par
\pard\plain \s101\li360\sa27\sb27\widctlpar\tqr\tldot\tx8640\adjustright \fs20\cgrid 
{\b {\b modeling_deepseek.DeepseekV3Attention} } \tab {\field\fldedit {\*\fldinst PAGEREF AAAAAAAAAQ \\*MERGEFORMAT}{\fldrslt pagenum}}
\par
{\b {\b modeling_deepseek.DeepseekV3DecoderLayer} } \tab {\field\fldedit {\*\fldinst PAGEREF AAAAAAAABV \\*MERGEFORMAT}{\fldrslt pagenum}}
\par
{\b {\b modeling_deepseek.DeepseekV3DynamicNTKScalingRotaryEmbedding} } \tab {\field\fldedit {\*\fldinst PAGEREF AAAAAAAACD \\*MERGEFORMAT}{\fldrslt pagenum}}
\par
{\b {\b modeling_deepseek.DeepseekV3FlashAttention2} } \tab {\field\fldedit {\*\fldinst PAGEREF AAAAAAAACM \\*MERGEFORMAT}{\fldrslt pagenum}}
\par
{\b {\b modeling_deepseek.DeepseekV3ForCausalLM} } \tab {\field\fldedit {\*\fldinst PAGEREF AAAAAAAACW \\*MERGEFORMAT}{\fldrslt pagenum}}
\par
{\b {\b modeling_deepseek.DeepseekV3ForSequenceClassification} } \tab {\field\fldedit {\*\fldinst PAGEREF AAAAAAAADL \\*MERGEFORMAT}{\fldrslt pagenum}}
\par
{\b {\b modeling_deepseek.DeepseekV3LinearScalingRotaryEmbedding} } \tab {\field\fldedit {\*\fldinst PAGEREF AAAAAAAADT \\*MERGEFORMAT}{\fldrslt pagenum}}
\par
{\b {\b modeling_deepseek.DeepseekV3MLP} } \tab {\field\fldedit {\*\fldinst PAGEREF AAAAAAAADY \\*MERGEFORMAT}{\fldrslt pagenum}}
\par
{\b {\b modeling_deepseek.DeepseekV3Model} } \tab {\field\fldedit {\*\fldinst PAGEREF AAAAAAAAEI \\*MERGEFORMAT}{\fldrslt pagenum}}
\par
{\b {\b modeling_deepseek.DeepseekV3MoE} } \tab {\field\fldedit {\*\fldinst PAGEREF AAAAAAAAEU \\*MERGEFORMAT}{\fldrslt pagenum}}
\par
{\b {\b modeling_deepseek.DeepseekV3PreTrainedModel} } \tab {\field\fldedit {\*\fldinst PAGEREF AAAAAAAAFG \\*MERGEFORMAT}{\fldrslt pagenum}}
\par
{\b {\b modeling_deepseek.DeepseekV3RMSNorm} } \tab {\field\fldedit {\*\fldinst PAGEREF AAAAAAAAFP \\*MERGEFORMAT}{\fldrslt pagenum}}
\par
{\b {\b modeling_deepseek.DeepseekV3RotaryEmbedding} } \tab {\field\fldedit {\*\fldinst PAGEREF AAAAAAAAFU \\*MERGEFORMAT}{\fldrslt pagenum}}
\par
{\b {\b modeling_deepseek.DeepseekV3YarnRotaryEmbedding} } \tab {\field\fldedit {\*\fldinst PAGEREF AAAAAAAAGC \\*MERGEFORMAT}{\fldrslt pagenum}}
\par
{\b {\b modeling_deepseek.MoEGate} } \tab {\field\fldedit {\*\fldinst PAGEREF AAAAAAAAGL \\*MERGEFORMAT}{\fldrslt pagenum}}
\par
\par}
\pard\plain \sect\sbkpage
\s1\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs36\kerning36\cgrid 
File Index\par \pard\plain 
{\tc \v File Index}
\pard\plain \s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
File List\par \pard\plain 
{
\pard\plain \s17\sa60\sb30\widctlpar\qj \fs22\cgrid Here is a list of all files with brief descriptions:}
{
\par
\pard\plain \s101\li360\sa27\sb27\widctlpar\tqr\tldot\tx8640\adjustright \fs20\cgrid 
{\b /tmp/github_repos_arch_doc_gen/sumansaurabh/deeseek-model-visualizer/{\b modeling_deepseek.py} } \tab {\field\fldedit {\*\fldinst PAGEREF AAAAAAAAAA \\*MERGEFORMAT}{\fldrslt pagenum}}
\par
\par}
\pard\plain \sect\sbkpage
\s1\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs36\kerning36\cgrid 
Namespace Documentation\par \pard\plain 
\pard\plain \s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
modeling_deepseek Namespace Reference\par \pard\plain 
{\tc\tcl2 \v modeling_deepseek}
{\xe \v modeling_deepseek}
{\bkmkstart AAAAAAAAAB}
{\bkmkend AAAAAAAAAB}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Classes\par
\pard\plain 

{
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
class {\b DeepseekV3Attention}\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
class {\b DeepseekV3DecoderLayer}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
class {\b DeepseekV3DynamicNTKScalingRotaryEmbedding}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
class {\b DeepseekV3FlashAttention2}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
class {\b DeepseekV3ForCausalLM}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
class {\b DeepseekV3ForSequenceClassification}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
class {\b DeepseekV3LinearScalingRotaryEmbedding}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
class {\b DeepseekV3MLP}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
class {\b DeepseekV3Model}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
class {\b DeepseekV3MoE}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
class {\b DeepseekV3PreTrainedModel}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
class {\b DeepseekV3RMSNorm}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
class {\b DeepseekV3RotaryEmbedding}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
class {\b DeepseekV3YarnRotaryEmbedding}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
class {\b MoEGate}\par
}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Functions\par
\pard\plain 

{
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b _get_unpad_data} (attention_mask)\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b yarn_find_correction_dim} (num_rotations, dim, base=10000, max_position_embeddings=2048)\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b yarn_find_correction_range} (low_rot, high_rot, dim, base=10000, max_position_embeddings=2048)\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b yarn_get_mscale} (scale=1, mscale=1)\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b yarn_linear_ramp_mask} (min, max, dim)\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b rotate_half} (x)\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b apply_rotary_pos_emb} (q, k, cos, sin, position_ids, unsqueeze_dim=1)\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
torch.Tensor {\b repeat_kv} (torch.Tensor hidden_states, int n_rep)\par
}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Variables\par
\pard\plain 

{
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b _prepare_4d_causal_attention_mask} = torch.fx.wrap(_prepare_4d_causal_attention_mask)\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b logger} = logging.get_logger(__name__)\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
str {\b _CONFIG_FOR_DOC} = "DeepseekV3Config"\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
dict {\b ATTENTION_CLASSES}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
str {\b DeepseekV3_START_DOCSTRING}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
str {\b DeepseekV3_INPUTS_DOCSTRING}\par
}
{\pard\widctlpar\brdrb\brdrs\brdrw5\brsp20 \adjustright \par}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Detailed Description\par
\pard\plain 
{
\pard\plain \s17\sa60\sb30\widctlpar\qj \fs22\cgrid {\s17\sa60\sb30\widctlpar\qj \fs22\cgrid 
{
\par
\pard\plain \s40\li0\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid  PyTorch DeepSeek model.}
 \par
}}
{\pard\widctlpar\brdrb\brdrs\brdrw5\brsp20 \adjustright \par}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Function Documentation\par
\pard\plain 
{\xe \v _get_unpad_data\:modeling_deepseek}
{\xe \v modeling_deepseek\:_get_unpad_data}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek._get_unpad_data (  {\i attention_mask}){\f2 [protected]}}}
\par
{\bkmkstart AAAAAAAAAC}
{\bkmkend AAAAAAAAAC}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
{\s17\sa60\sb30\widctlpar\qj \fs22\cgrid 
{
\par
\pard\plain \s41\li360\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid Retrieve unpadded data from the attention mask.\par
\par
This function processes the given attention mask to extract the indices\par
of non-zero elements, compute cumulative sequence lengths, and determine\par
the maximum sequence length in the batch. It is particularly useful in\par
scenarios where attention masks are used to manage variable-length\par
sequences in batch processing.\par
\par
Args:\par
    attention_mask (torch.Tensor): A tensor representing the attention mask, where non-zero values\par
        indicate valid tokens and zero values indicate padding.\par
\par
Returns:\par
    tuple: A tuple containing:\par
        - indices (torch.Tensor): A flattened tensor of indices corresponding to\par
        non-zero elements\par
        in the attention mask.\par
        - cu_seqlens (torch.Tensor): A tensor of cumulative sequence lengths,\par
        padded to facilitate\par
        batch processing.\par
        - max_seqlen_in_batch (int): The maximum sequence length found in the\par
        input batch.\par
}
 \par
}}
{\xe \v apply_rotary_pos_emb\:modeling_deepseek}
{\xe \v modeling_deepseek\:apply_rotary_pos_emb}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.apply_rotary_pos_emb (  {\i q},   {\i k},   {\i cos},   {\i sin},   {\i position_ids},   {\i unsqueeze_dim} = {\f2 1})}}
\par
{\bkmkstart AAAAAAAAAD}
{\bkmkend AAAAAAAAAD}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
{\s17\sa60\sb30\widctlpar\qj \fs22\cgrid 
{
\par
\pard\plain \s41\li360\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid Applies Rotary Position Embedding to the query and key tensors.\par
\par
This function modifies the query and key tensors by applying rotary\par
position embeddings using the provided cosine and sine tensors. The\par
position indices are used to select the appropriate values from the\par
cosine and sine tensors, which are then unsqueezed along the specified\par
dimension to ensure they can be broadcasted correctly with the query and\par
key tensors. This is particularly useful in transformer models for\par
enhancing the positional encoding of tokens.\par
\par
Args:\par
    q (`torch.Tensor`): The query tensor.\par
    k (`torch.Tensor`): The key tensor.\par
    cos (`torch.Tensor`): The cosine part of the rotary embedding.\par
    sin (`torch.Tensor`): The sine part of the rotary embedding.\par
    position_ids (`torch.Tensor`): The position indices of the tokens corresponding to the query and key\par
        tensors. For example, this can be\par
        used to pass offsetted position ids when working with a KV-cache.\par
    unsqueeze_dim (`int`, *optional*, defaults to 1): The 'unsqueeze_dim' argument specifies the dimension along which to\par
        unsqueeze cos[position_ids] and\par
        sin[position_ids] so that they can be properly broadcasted to the\par
        dimensions of q and k. For example, note\par
        that cos[position_ids] and sin[position_ids] have the shape [batch_size,\par
        seq_len, head_dim]. Then, if q and\par
        k have the shape [batch_size, heads, seq_len, head_dim], then setting\par
        unsqueeze_dim=1 makes\par
        cos[position_ids] and sin[position_ids] broadcastable to the shapes of q\par
        and k. Similarly, if q and k have\par
        the shape [batch_size, seq_len, heads, head_dim], then set\par
        unsqueeze_dim=2.\par
\par
Returns:\par
    the Rotary Position Embedding.\par
}
 \par
}Here is the call graph for this function:{
\pard\plain 
\par\pard \qc {\field\flddirty {\*\fldinst INCLUDEPICTURE "namespacemodeling__deepseek_a1a750b896c05148a865beae617cc3153_cgraph.svg" \\d \\*MERGEFORMAT}{\fldrslt IMAGE}}\par
}
}
{\xe \v repeat_kv\:modeling_deepseek}
{\xe \v modeling_deepseek\:repeat_kv}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
 torch.Tensor modeling_deepseek.repeat_kv (torch.Tensor  {\i hidden_states}, int  {\i n_rep})}}
\par
{\bkmkstart AAAAAAAAAE}
{\bkmkend AAAAAAAAAE}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
{\s17\sa60\sb30\widctlpar\qj \fs22\cgrid 
{
\par
\pard\plain \s41\li360\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid Repeat key-value hidden states for attention mechanisms.\par
\par
This function takes the hidden states of a model and repeats them along\par
the specified dimension, effectively expanding the representation of\par
key-value pairs for attention heads. The input tensor is expected to\par
have the shape (batch, num_key_value_heads, seqlen, head_dim) and will\par
be reshaped to (batch, num_attention_heads, seqlen, head_dim) after\par
repeating the key-value pairs.\par
\par
Args:\par
    hidden_states (torch.Tensor): A tensor containing the hidden states with shape\par
        (batch, num_key_value_heads, seqlen, head_dim).\par
    n_rep (int): The number of times to repeat each key-value pair.\par
\par
Returns:\par
    torch.Tensor: A tensor with the repeated hidden states, reshaped to\par
        (batch, num_key_value_heads * n_rep, seqlen, head_dim).\par
}
 \par
}}
{\xe \v rotate_half\:modeling_deepseek}
{\xe \v modeling_deepseek\:rotate_half}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.rotate_half (  {\i x})}}
\par
{\bkmkstart AAAAAAAAAF}
{\bkmkend AAAAAAAAAF}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
{\s17\sa60\sb30\widctlpar\qj \fs22\cgrid 
{
\par
\pard\plain \s41\li360\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid Rotate half of the hidden dimensions of the input tensor.\par
\par
This function takes an input tensor and splits it into two halves along\par
the last dimension. The first half is kept as is, while the second half\par
is negated. The two halves are then concatenated along the last\par
dimension to produce the output tensor.\par
\par
Args:\par
    x (torch.Tensor): The input tensor with at least two dimensions.\par
\par
Returns:\par
    torch.Tensor: A tensor with the same shape as the input, where the second half of the\par
    last dimension has been negated.\par
}
 \par
}Here is the caller graph for this function:{
\pard\plain 
\par\pard \qc {\field\flddirty {\*\fldinst INCLUDEPICTURE "namespacemodeling__deepseek_ac3015cd18af85cbf60800ee0a8091b87_icgraph.svg" \\d \\*MERGEFORMAT}{\fldrslt IMAGE}}\par
}
}
{\xe \v yarn_find_correction_dim\:modeling_deepseek}
{\xe \v modeling_deepseek\:yarn_find_correction_dim}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.yarn_find_correction_dim (  {\i num_rotations},   {\i dim},   {\i base} = {\f2 10000},   {\i max_position_embeddings} = {\f2 2048})}}
\par
{\bkmkstart AAAAAAAAAG}
{\bkmkend AAAAAAAAAG}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
{\s17\sa60\sb30\widctlpar\qj \fs22\cgrid 
{
\par
\pard\plain \s41\li360\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid Calculate the corrected dimension based on the number of rotations.\par
\par
This function computes the corrected dimension using the inverse\par
dimension formula. It takes into account the number of rotations and\par
adjusts the dimension based on a logarithmic scale relative to a base\par
value and the maximum position embeddings. The formula used is derived\par
from mathematical principles related to dimensionality adjustments in\par
various applications.\par
\par
Args:\par
    num_rotations (int): The number of rotations to consider in the calculation.\par
    dim (float): The initial dimension value to be corrected.\par
    base (float?): The base value for logarithmic scaling. Defaults to 10000.\par
    max_position_embeddings (int?): The maximum number of position embeddings.\par
        Defaults to 2048.\par
\par
Returns:\par
    float: The corrected dimension based on the provided parameters.\par
}
 \par
}Here is the caller graph for this function:{
\pard\plain 
\par\pard \qc {\field\flddirty {\*\fldinst INCLUDEPICTURE "namespacemodeling__deepseek_a5773fca3051b7ea373ce0a49be2ea763_icgraph.svg" \\d \\*MERGEFORMAT}{\fldrslt IMAGE}}\par
}
}
{\xe \v yarn_find_correction_range\:modeling_deepseek}
{\xe \v modeling_deepseek\:yarn_find_correction_range}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.yarn_find_correction_range (  {\i low_rot},   {\i high_rot},   {\i dim},   {\i base} = {\f2 10000},   {\i max_position_embeddings} = {\f2 2048})}}
\par
{\bkmkstart AAAAAAAAAH}
{\bkmkend AAAAAAAAAH}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
{\s17\sa60\sb30\widctlpar\qj \fs22\cgrid 
{
\par
\pard\plain \s41\li360\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid Find the correction range bounds based on rotation values.\par
\par
This function calculates the lower and upper bounds for a correction\par
range based on the provided rotation values. It uses the\par
`yarn_find_correction_dim` function to determine the corresponding\par
dimensions for the given low and high rotation inputs. The results are\par
clamped to ensure they remain within valid bounds, specifically between\par
0 and `dim - 1`.\par
\par
Args:\par
    low_rot (float): The lower rotation value.\par
    high_rot (float): The higher rotation value.\par
    dim (int): The dimension size to constrain the bounds.\par
    base (int?): The base value used in calculations. Defaults to 10000.\par
    max_position_embeddings (int?): The maximum number of position embeddings. Defaults to 2048.\par
\par
Returns:\par
    tuple: A tuple containing the clamped lower and upper bounds of the correction\par
        range.\par
}
 \par
}Here is the call graph for this function:{
\pard\plain 
\par\pard \qc {\field\flddirty {\*\fldinst INCLUDEPICTURE "namespacemodeling__deepseek_ab17059a7c13afd5df5eda1a07fe7e6b7_cgraph.svg" \\d \\*MERGEFORMAT}{\fldrslt IMAGE}}\par
}
}
{\xe \v yarn_get_mscale\:modeling_deepseek}
{\xe \v modeling_deepseek\:yarn_get_mscale}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.yarn_get_mscale (  {\i scale} = {\f2 1},   {\i mscale} = {\f2 1})}}
\par
{\bkmkstart AAAAAAAAAI}
{\bkmkend AAAAAAAAAI}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
{\s17\sa60\sb30\widctlpar\qj \fs22\cgrid 
{
\par
\pard\plain \s41\li360\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid Calculate the modified scale based on the input scale and mscale.\par
\par
This function computes a modified scale value using a logarithmic\par
transformation. If the input scale is less than or equal to 1, it\par
returns a default value of 1.0. For scales greater than 1, it applies\par
the formula: 0.1 * mscale * log(scale) + 1.0.\par
\par
Args:\par
    scale (float?): The input scale value. Defaults to 1.\par
    mscale (float?): The mscale value used in the calculation. Defaults to 1.\par
\par
Returns:\par
    float: The modified scale value based on the input parameters.\par
}
 \par
}}
{\xe \v yarn_linear_ramp_mask\:modeling_deepseek}
{\xe \v modeling_deepseek\:yarn_linear_ramp_mask}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.yarn_linear_ramp_mask (  {\i min},   {\i max},   {\i dim})}}
\par
{\bkmkstart AAAAAAAAAJ}
{\bkmkend AAAAAAAAAJ}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
{\s17\sa60\sb30\widctlpar\qj \fs22\cgrid 
{
\par
\pard\plain \s41\li360\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid Generate a linear ramp mask based on minimum and maximum values.\par
\par
This function creates a linear ramp mask that linearly interpolates\par
values between a specified minimum and maximum. If the minimum and\par
maximum values are equal, a small value is added to the maximum to\par
prevent singularity. The resulting ramp is clamped between 0 and 1,\par
ensuring that all values lie within this range.\par
\par
Args:\par
    min (float): The minimum value for the ramp.\par
    max (float): The maximum value for the ramp.\par
    dim (int): The dimension of the output mask.\par
\par
Returns:\par
    torch.Tensor: A tensor containing the linear ramp mask.\par
}
 \par
}}
{\pard\widctlpar\brdrb\brdrs\brdrw5\brsp20 \adjustright \par}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Variable Documentation\par
\pard\plain 
{\xe \v _CONFIG_FOR_DOC\:modeling_deepseek}
{\xe \v modeling_deepseek\:_CONFIG_FOR_DOC}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
str modeling_deepseek._CONFIG_FOR_DOC = "DeepseekV3Config"{\f2 [protected]}}}
\par
{\bkmkstart AAAAAAAAAK}
{\bkmkend AAAAAAAAAK}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v _prepare_4d_causal_attention_mask\:modeling_deepseek}
{\xe \v modeling_deepseek\:_prepare_4d_causal_attention_mask}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek._prepare_4d_causal_attention_mask = torch.fx.wrap(_prepare_4d_causal_attention_mask){\f2 [protected]}}}
\par
{\bkmkstart AAAAAAAAAL}
{\bkmkend AAAAAAAAAL}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v ATTENTION_CLASSES\:modeling_deepseek}
{\xe \v modeling_deepseek\:ATTENTION_CLASSES}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
dict modeling_deepseek.ATTENTION_CLASSES}}
\par
{\bkmkstart AAAAAAAAAM}
{\bkmkend AAAAAAAAAM}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
{\b Initial value:}{
\pard\plain \s41\li360\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid 1 =  \{\par
2     {\cf22 "eager"}: DeepseekV3Attention,\par
3     {\cf22 "flash_attention_2"}: DeepseekV3FlashAttention2,\par
4 \}\par
}
}
{\xe \v DeepseekV3_INPUTS_DOCSTRING\:modeling_deepseek}
{\xe \v modeling_deepseek\:DeepseekV3_INPUTS_DOCSTRING}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
str modeling_deepseek.DeepseekV3_INPUTS_DOCSTRING}}
\par
{\bkmkstart AAAAAAAAAN}
{\bkmkend AAAAAAAAAN}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v DeepseekV3_START_DOCSTRING\:modeling_deepseek}
{\xe \v modeling_deepseek\:DeepseekV3_START_DOCSTRING}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
str modeling_deepseek.DeepseekV3_START_DOCSTRING}}
\par
{\bkmkstart AAAAAAAAAO}
{\bkmkend AAAAAAAAAO}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
{\b Initial value:}{
\pard\plain \s41\li360\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid 1 =  {\cf22 r"""}\par
2 {\cf22     This model inherits from [`PreTrainedModel`]. Check the superclass documentation for the generic methods the}\par
3 {\cf22     library implements for all its model (such as downloading or saving, resizing the input embeddings, pruning heads}\par
4 {\cf22     etc.)}\par
5 {\cf22     This model is also a PyTorch [torch.nn.Module](https://pytorch.org/docs/stable/nn.html#torch.nn.Module) subclass.}\par
6 {\cf22     Use it as a regular PyTorch Module and refer to the PyTorch documentation for all matter related to general usage}\par
7 {\cf22     and behavior.}\par
8 {\cf22     Parameters:}\par
9 {\cf22         config ([`DeepseekV3Config`]):}\par
10 {\cf22             Model configuration class with all the parameters of the model. Initializing with a config file does not}\par
11 {\cf22             load the weights associated with the model, only the configuration. Check out the}\par
12 {\cf22             [`~PreTrainedModel.from_pretrained`] method to load the model weights.}\par
13 {\cf22 """}\par
}
}
{\xe \v logger\:modeling_deepseek}
{\xe \v modeling_deepseek\:logger}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.logger = logging.get_logger(__name__)}}
\par
{\bkmkstart AAAAAAAAAP}
{\bkmkend AAAAAAAAAP}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}

\pard\plain \sect\sbkpage
\s1\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs36\kerning36\cgrid 
Class Documentation{\tc \v Class Documentation}
\par \pard\plain 
\pard\plain \s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
modeling_deepseek.DeepseekV3Attention Class Reference\par \pard\plain 
{\tc\tcl2 \v modeling_deepseek.DeepseekV3Attention}
{\xe \v modeling_deepseek.DeepseekV3Attention}
{\bkmkstart AAAAAAAAAQ}
{\bkmkend AAAAAAAAAQ}
Inheritance diagram for modeling_deepseek.DeepseekV3Attention:{
\pard\plain 
\par\pard \qc {\field\flddirty {\*\fldinst INCLUDEPICTURE "classmodeling__deepseek_1_1DeepseekV3Attention__inherit__graph.svg" \\d \\*MERGEFORMAT}{\fldrslt IMAGE}}\par
}
\par
Collaboration diagram for modeling_deepseek.DeepseekV3Attention:{
\pard\plain 
\par\pard \qc {\field\flddirty {\*\fldinst INCLUDEPICTURE "classmodeling__deepseek_1_1DeepseekV3Attention__coll__graph.svg" \\d \\*MERGEFORMAT}{\fldrslt IMAGE}}\par
}
\par
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Public Member Functions\par
\pard\plain 

{
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b __init__} (self, DeepseekV3Config {\b config}, Optional[int] {\b layer_idx}=None)\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
Tuple[torch.Tensor, Optional[torch.Tensor], Optional[Tuple[torch.Tensor]]] {\b forward} (self, torch.Tensor hidden_states, Optional[torch.Tensor] attention_mask=None, Optional[torch.LongTensor] position_ids=None, Optional[Cache] past_key_value=None, bool output_attentions=False, bool use_cache=False, **kwargs)\par
}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Public Attributes\par
\pard\plain 

{
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b config}\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b layer_idx}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b attention_dropout}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b hidden_size}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b num_heads}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b max_position_embeddings}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b rope_theta}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b q_lora_rank}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b qk_rope_head_dim}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b kv_lora_rank}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b v_head_dim}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b qk_nope_head_dim}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b q_head_dim}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b is_causal}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b q_proj}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b q_a_proj}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b q_a_layernorm}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b q_b_proj}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b kv_a_proj_with_mqa}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b kv_a_layernorm}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b kv_b_proj}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b o_proj}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b softmax_scale}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b rotary_emb}\par
}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Protected Member Functions\par
\pard\plain 

{
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b _init_rope} (self)\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b _shape} (self, torch.Tensor tensor, int seq_len, int bsz)\par
}
{\pard\widctlpar\brdrb\brdrs\brdrw5\brsp20 \adjustright \par}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Detailed Description\par
\pard\plain 
{
\pard\plain \s17\sa60\sb30\widctlpar\qj \fs22\cgrid {\s17\sa60\sb30\widctlpar\qj \fs22\cgrid 
{
\par
\pard\plain \s40\li0\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid Multi-headed attention from 'Attention Is All You Need' paper}
 \par
}}
{\pard\widctlpar\brdrb\brdrs\brdrw5\brsp20 \adjustright \par}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Constructor & Destructor Documentation\par
\pard\plain 
{\xe \v __init__\:modeling_deepseek.DeepseekV3Attention}
{\xe \v modeling_deepseek.DeepseekV3Attention\:__init__}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3Attention.__init__ (  {\i self}, DeepseekV3Config  {\i config}, Optional[int]   {\i layer_idx} = {\f2 None})}}
\par
{\bkmkstart AAAAAAAAAR}
{\bkmkend AAAAAAAAAR}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Reimplemented in {\b modeling_deepseek.DeepseekV3FlashAttention2} ({\i p.{\field\fldedit {\*\fldinst PAGEREF AAAAAAAAAS \\*MERGEFORMAT}{\fldrslt pagenum}}}).}\par
}
{\pard\widctlpar\brdrb\brdrs\brdrw5\brsp20 \adjustright \par}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Member Function Documentation\par
\pard\plain 
{\xe \v _init_rope\:modeling_deepseek.DeepseekV3Attention}
{\xe \v modeling_deepseek.DeepseekV3Attention\:_init_rope}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3Attention._init_rope (  {\i self}){\f2 [protected]}}}
\par
{\bkmkstart AAAAAAAAAT}
{\bkmkend AAAAAAAAAT}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
{\s17\sa60\sb30\widctlpar\qj \fs22\cgrid 
{
\par
\pard\plain \s41\li360\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid Initialize the rotary embedding based on the configuration.\par
\par
This method sets up the rotary embedding for the model. It checks the\par
configuration for the type of scaling to be applied to the rotary\par
embeddings. If no scaling is specified, it defaults to using a standard\par
rotary embedding. Depending on the specified scaling type, it\par
initializes the appropriate rotary embedding class with the necessary\par
parameters. The supported scaling types include linear, dynamic, and\par
yarn. If an unknown scaling type is provided, a ValueError is raised.\par
\par
Raises:\par
    ValueError: If the scaling type specified in the configuration is\par
}
 \par
}}
{\xe \v _shape\:modeling_deepseek.DeepseekV3Attention}
{\xe \v modeling_deepseek.DeepseekV3Attention\:_shape}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3Attention._shape (  {\i self}, torch.Tensor  {\i tensor}, int  {\i seq_len}, int  {\i bsz}){\f2 [protected]}}}
\par
{\bkmkstart AAAAAAAAAU}
{\bkmkend AAAAAAAAAU}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
{\s17\sa60\sb30\widctlpar\qj \fs22\cgrid 
{
\par
\pard\plain \s41\li360\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid Reshape a tensor for multi-head attention.\par
\par
This function reshapes the input tensor to prepare it for multi-head\par
attention by rearranging its dimensions. It first views the tensor in a\par
specified shape based on the batch size, sequence length, number of\par
heads, and the dimension of each head. Then, it transposes the\par
dimensions to align them correctly for further processing.\par
\par
Args:\par
    tensor (torch.Tensor): The input tensor to be reshaped.\par
    seq_len (int): The sequence length for the input tensor.\par
    bsz (int): The batch size for the input tensor.\par
\par
Returns:\par
    torch.Tensor: The reshaped tensor ready for multi-head attention.\par
}
 \par
}}
{\xe \v forward\:modeling_deepseek.DeepseekV3Attention}
{\xe \v modeling_deepseek.DeepseekV3Attention\:forward}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
 Tuple[torch.Tensor, Optional[torch.Tensor], Optional[Tuple[torch.Tensor]]] modeling_deepseek.DeepseekV3Attention.forward (  {\i self}, torch.Tensor  {\i hidden_states}, Optional[torch.Tensor]   {\i attention_mask} = {\f2 None}, Optional[torch.LongTensor]   {\i position_ids} = {\f2 None}, Optional[Cache]   {\i past_key_value} = {\f2 None}, bool   {\i output_attentions} = {\f2 False}, bool   {\i use_cache} = {\f2 False}, **  {\i kwargs})}}
\par
{\bkmkstart AAAAAAAAAV}
{\bkmkend AAAAAAAAAV}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
{\s17\sa60\sb30\widctlpar\qj \fs22\cgrid 
{
\par
\pard\plain \s41\li360\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid Compute the forward pass of the attention mechanism.\par
\par
This function processes the input hidden states through various\par
projections and computes the attention weights and output. It handles\par
optional parameters such as attention masks and past key values for\par
efficient decoding. The function also applies rotary positional\par
embeddings to the query and key states, and ensures that the shapes of\par
the tensors are consistent throughout the computation.\par
\par
Args:\par
    hidden_states (torch.Tensor): The input tensor containing hidden states.\par
    attention_mask (Optional[torch.Tensor]?): A mask to prevent attention\par
        to certain positions. Defaults to None.\par
    position_ids (Optional[torch.LongTensor]?): Position IDs for the input\par
        sequence. Defaults to None.\par
    past_key_value (Optional[Cache]?): Cached key and value states from\par
        previous decoding steps. Defaults to None.\par
    output_attentions (bool?): Whether to return attention weights.\par
        Defaults to False.\par
    use_cache (bool?): Whether to use caching for key/value states.\par
        Defaults to False.\par
    **kwargs: Additional keyword arguments.\par
\par
Returns:\par
    Tuple[torch.Tensor, Optional[torch.Tensor], Optional[Tuple[torch.Tensor]]]:\par
    A tuple containing the attention output, attention weights (if\par
        requested),\par
    and updated past key values.\par
\par
Raises:\par
    ValueError: If the cache structure has changed or if the sizes of attention\par
        weights or outputs do not match expected dimensions.\par
}
 \par
}{
Reimplemented in {\b modeling_deepseek.DeepseekV3FlashAttention2} ({\i p.{\field\fldedit {\*\fldinst PAGEREF AAAAAAAAAW \\*MERGEFORMAT}{\fldrslt pagenum}}}).}\par
}
{\pard\widctlpar\brdrb\brdrs\brdrw5\brsp20 \adjustright \par}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Member Data Documentation\par
\pard\plain 
{\xe \v attention_dropout\:modeling_deepseek.DeepseekV3Attention}
{\xe \v modeling_deepseek.DeepseekV3Attention\:attention_dropout}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3Attention.attention_dropout}}
\par
{\bkmkstart AAAAAAAAAX}
{\bkmkend AAAAAAAAAX}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v config\:modeling_deepseek.DeepseekV3Attention}
{\xe \v modeling_deepseek.DeepseekV3Attention\:config}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3Attention.config}}
\par
{\bkmkstart AAAAAAAAAY}
{\bkmkend AAAAAAAAAY}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v hidden_size\:modeling_deepseek.DeepseekV3Attention}
{\xe \v modeling_deepseek.DeepseekV3Attention\:hidden_size}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3Attention.hidden_size}}
\par
{\bkmkstart AAAAAAAAAZ}
{\bkmkend AAAAAAAAAZ}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v is_causal\:modeling_deepseek.DeepseekV3Attention}
{\xe \v modeling_deepseek.DeepseekV3Attention\:is_causal}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3Attention.is_causal}}
\par
{\bkmkstart AAAAAAAABA}
{\bkmkend AAAAAAAABA}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v kv_a_layernorm\:modeling_deepseek.DeepseekV3Attention}
{\xe \v modeling_deepseek.DeepseekV3Attention\:kv_a_layernorm}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3Attention.kv_a_layernorm}}
\par
{\bkmkstart AAAAAAAABB}
{\bkmkend AAAAAAAABB}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v kv_a_proj_with_mqa\:modeling_deepseek.DeepseekV3Attention}
{\xe \v modeling_deepseek.DeepseekV3Attention\:kv_a_proj_with_mqa}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3Attention.kv_a_proj_with_mqa}}
\par
{\bkmkstart AAAAAAAABC}
{\bkmkend AAAAAAAABC}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v kv_b_proj\:modeling_deepseek.DeepseekV3Attention}
{\xe \v modeling_deepseek.DeepseekV3Attention\:kv_b_proj}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3Attention.kv_b_proj}}
\par
{\bkmkstart AAAAAAAABD}
{\bkmkend AAAAAAAABD}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v kv_lora_rank\:modeling_deepseek.DeepseekV3Attention}
{\xe \v modeling_deepseek.DeepseekV3Attention\:kv_lora_rank}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3Attention.kv_lora_rank}}
\par
{\bkmkstart AAAAAAAABE}
{\bkmkend AAAAAAAABE}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v layer_idx\:modeling_deepseek.DeepseekV3Attention}
{\xe \v modeling_deepseek.DeepseekV3Attention\:layer_idx}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3Attention.layer_idx}}
\par
{\bkmkstart AAAAAAAABF}
{\bkmkend AAAAAAAABF}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v max_position_embeddings\:modeling_deepseek.DeepseekV3Attention}
{\xe \v modeling_deepseek.DeepseekV3Attention\:max_position_embeddings}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3Attention.max_position_embeddings}}
\par
{\bkmkstart AAAAAAAABG}
{\bkmkend AAAAAAAABG}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v num_heads\:modeling_deepseek.DeepseekV3Attention}
{\xe \v modeling_deepseek.DeepseekV3Attention\:num_heads}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3Attention.num_heads}}
\par
{\bkmkstart AAAAAAAABH}
{\bkmkend AAAAAAAABH}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v o_proj\:modeling_deepseek.DeepseekV3Attention}
{\xe \v modeling_deepseek.DeepseekV3Attention\:o_proj}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3Attention.o_proj}}
\par
{\bkmkstart AAAAAAAABI}
{\bkmkend AAAAAAAABI}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v q_a_layernorm\:modeling_deepseek.DeepseekV3Attention}
{\xe \v modeling_deepseek.DeepseekV3Attention\:q_a_layernorm}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3Attention.q_a_layernorm}}
\par
{\bkmkstart AAAAAAAABJ}
{\bkmkend AAAAAAAABJ}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v q_a_proj\:modeling_deepseek.DeepseekV3Attention}
{\xe \v modeling_deepseek.DeepseekV3Attention\:q_a_proj}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3Attention.q_a_proj}}
\par
{\bkmkstart AAAAAAAABK}
{\bkmkend AAAAAAAABK}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v q_b_proj\:modeling_deepseek.DeepseekV3Attention}
{\xe \v modeling_deepseek.DeepseekV3Attention\:q_b_proj}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3Attention.q_b_proj}}
\par
{\bkmkstart AAAAAAAABL}
{\bkmkend AAAAAAAABL}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v q_head_dim\:modeling_deepseek.DeepseekV3Attention}
{\xe \v modeling_deepseek.DeepseekV3Attention\:q_head_dim}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3Attention.q_head_dim}}
\par
{\bkmkstart AAAAAAAABM}
{\bkmkend AAAAAAAABM}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v q_lora_rank\:modeling_deepseek.DeepseekV3Attention}
{\xe \v modeling_deepseek.DeepseekV3Attention\:q_lora_rank}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3Attention.q_lora_rank}}
\par
{\bkmkstart AAAAAAAABN}
{\bkmkend AAAAAAAABN}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v q_proj\:modeling_deepseek.DeepseekV3Attention}
{\xe \v modeling_deepseek.DeepseekV3Attention\:q_proj}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3Attention.q_proj}}
\par
{\bkmkstart AAAAAAAABO}
{\bkmkend AAAAAAAABO}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v qk_nope_head_dim\:modeling_deepseek.DeepseekV3Attention}
{\xe \v modeling_deepseek.DeepseekV3Attention\:qk_nope_head_dim}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3Attention.qk_nope_head_dim}}
\par
{\bkmkstart AAAAAAAABP}
{\bkmkend AAAAAAAABP}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v qk_rope_head_dim\:modeling_deepseek.DeepseekV3Attention}
{\xe \v modeling_deepseek.DeepseekV3Attention\:qk_rope_head_dim}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3Attention.qk_rope_head_dim}}
\par
{\bkmkstart AAAAAAAABQ}
{\bkmkend AAAAAAAABQ}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v rope_theta\:modeling_deepseek.DeepseekV3Attention}
{\xe \v modeling_deepseek.DeepseekV3Attention\:rope_theta}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3Attention.rope_theta}}
\par
{\bkmkstart AAAAAAAABR}
{\bkmkend AAAAAAAABR}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v rotary_emb\:modeling_deepseek.DeepseekV3Attention}
{\xe \v modeling_deepseek.DeepseekV3Attention\:rotary_emb}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3Attention.rotary_emb}}
\par
{\bkmkstart AAAAAAAABS}
{\bkmkend AAAAAAAABS}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v softmax_scale\:modeling_deepseek.DeepseekV3Attention}
{\xe \v modeling_deepseek.DeepseekV3Attention\:softmax_scale}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3Attention.softmax_scale}}
\par
{\bkmkstart AAAAAAAABT}
{\bkmkend AAAAAAAABT}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v v_head_dim\:modeling_deepseek.DeepseekV3Attention}
{\xe \v modeling_deepseek.DeepseekV3Attention\:v_head_dim}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3Attention.v_head_dim}}
\par
{\bkmkstart AAAAAAAABU}
{\bkmkend AAAAAAAABU}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\pard\widctlpar\brdrb\brdrs\brdrw5\brsp20 \adjustright \par}
The documentation for this class was generated from the following file:{\par
\pard\plain \s121\fi-360\li720\widctlpar\jclisttab\tx720{\*\pn \pnlvlbody\ilvl0\ls2\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
/tmp/github_repos_arch_doc_gen/sumansaurabh/deeseek-model-visualizer/{\b modeling_deepseek.py}\par
}\par \pard\plain 

\pard\plain \sect\sbkpage
\s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
\pard\plain \s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
modeling_deepseek.DeepseekV3DecoderLayer Class Reference\par \pard\plain 
{\tc\tcl2 \v modeling_deepseek.DeepseekV3DecoderLayer}
{\xe \v modeling_deepseek.DeepseekV3DecoderLayer}
{\bkmkstart AAAAAAAABV}
{\bkmkend AAAAAAAABV}
Inheritance diagram for modeling_deepseek.DeepseekV3DecoderLayer:{
\pard\plain 
\par\pard \qc {\field\flddirty {\*\fldinst INCLUDEPICTURE "classmodeling__deepseek_1_1DeepseekV3DecoderLayer__inherit__graph.svg" \\d \\*MERGEFORMAT}{\fldrslt IMAGE}}\par
}
\par
Collaboration diagram for modeling_deepseek.DeepseekV3DecoderLayer:{
\pard\plain 
\par\pard \qc {\field\flddirty {\*\fldinst INCLUDEPICTURE "classmodeling__deepseek_1_1DeepseekV3DecoderLayer__coll__graph.svg" \\d \\*MERGEFORMAT}{\fldrslt IMAGE}}\par
}
\par
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Public Member Functions\par
\pard\plain 

{
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b __init__} (self, DeepseekV3Config config, int layer_idx)\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
Tuple[ torch.FloatTensor, Optional[Tuple[torch.FloatTensor, torch.FloatTensor]]] {\b forward} (self, torch.Tensor hidden_states, Optional[torch.Tensor] attention_mask=None, Optional[torch.LongTensor] position_ids=None, Optional[Tuple[torch.Tensor]] past_key_value=None, Optional[bool] output_attentions=False, Optional[bool] use_cache=False, **kwargs)\par
}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Public Attributes\par
\pard\plain 

{
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b hidden_size}\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b self_attn}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b mlp}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b input_layernorm}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b post_attention_layernorm}\par
}
{\pard\widctlpar\brdrb\brdrs\brdrw5\brsp20 \adjustright \par}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Constructor & Destructor Documentation\par
\pard\plain 
{\xe \v __init__\:modeling_deepseek.DeepseekV3DecoderLayer}
{\xe \v modeling_deepseek.DeepseekV3DecoderLayer\:__init__}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3DecoderLayer.__init__ (  {\i self}, DeepseekV3Config  {\i config}, int  {\i layer_idx})}}
\par
{\bkmkstart AAAAAAAABW}
{\bkmkend AAAAAAAABW}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\pard\widctlpar\brdrb\brdrs\brdrw5\brsp20 \adjustright \par}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Member Function Documentation\par
\pard\plain 
{\xe \v forward\:modeling_deepseek.DeepseekV3DecoderLayer}
{\xe \v modeling_deepseek.DeepseekV3DecoderLayer\:forward}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
 Tuple[
        torch.FloatTensor, Optional[Tuple[torch.FloatTensor, torch.FloatTensor]]
    ] modeling_deepseek.DeepseekV3DecoderLayer.forward (  {\i self}, torch.Tensor  {\i hidden_states}, Optional[torch.Tensor]   {\i attention_mask} = {\f2 None}, Optional[torch.LongTensor]   {\i position_ids} = {\f2 None}, Optional[Tuple[torch.Tensor]]   {\i past_key_value} = {\f2 None}, Optional[bool]   {\i output_attentions} = {\f2 False}, Optional[bool]   {\i use_cache} = {\f2 False}, **  {\i kwargs})}}
\par
{\bkmkstart AAAAAAAABX}
{\bkmkend AAAAAAAABX}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
{\s17\sa60\sb30\widctlpar\qj \fs22\cgrid 
{
\par
\pard\plain \s41\li360\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid Forward pass through the model layer.\par
\par
This method processes the input hidden states through a series of\par
transformations, including layer normalization, self-attention, and a\par
fully connected feed-forward network. It can also return attention\par
weights and cached key-value states for efficient decoding.\par
\par
Args:\par
    hidden_states (torch.FloatTensor): Input to the layer of shape `(batch, seq_len, embed_dim)`.\par
    attention_mask (torch.FloatTensor?): Attention mask of size `(batch_size, sequence_length)` if flash\par
        attention is used or\par
        `(batch_size, 1, query_sequence_length, key_sequence_length)` if default\par
        attention is used.\par
    position_ids (torch.LongTensor?): Position IDs for the input tokens.\par
    past_key_value (Tuple[torch.Tensor]?): Cached past key and value projection states.\par
    output_attentions (bool?): Whether or not to return the attention tensors of all attention layers.\par
        Defaults to False.\par
    use_cache (bool?): If set to `True`, past key values are returned to speed up decoding.\par
        Defaults to False.\par
    **kwargs: Additional keyword arguments.\par
\par
Returns:\par
    Tuple[torch.FloatTensor, Optional[Tuple[torch.FloatTensor, torch.FloatTensor]]]: A tuple containing the processed hidden states and optionally the\par
        attention weights and\par
        present key-value states if requested.\par
}
 \par
}}
{\pard\widctlpar\brdrb\brdrs\brdrw5\brsp20 \adjustright \par}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Member Data Documentation\par
\pard\plain 
{\xe \v hidden_size\:modeling_deepseek.DeepseekV3DecoderLayer}
{\xe \v modeling_deepseek.DeepseekV3DecoderLayer\:hidden_size}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3DecoderLayer.hidden_size}}
\par
{\bkmkstart AAAAAAAABY}
{\bkmkend AAAAAAAABY}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v input_layernorm\:modeling_deepseek.DeepseekV3DecoderLayer}
{\xe \v modeling_deepseek.DeepseekV3DecoderLayer\:input_layernorm}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3DecoderLayer.input_layernorm}}
\par
{\bkmkstart AAAAAAAABZ}
{\bkmkend AAAAAAAABZ}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v mlp\:modeling_deepseek.DeepseekV3DecoderLayer}
{\xe \v modeling_deepseek.DeepseekV3DecoderLayer\:mlp}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3DecoderLayer.mlp}}
\par
{\bkmkstart AAAAAAAACA}
{\bkmkend AAAAAAAACA}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v post_attention_layernorm\:modeling_deepseek.DeepseekV3DecoderLayer}
{\xe \v modeling_deepseek.DeepseekV3DecoderLayer\:post_attention_layernorm}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3DecoderLayer.post_attention_layernorm}}
\par
{\bkmkstart AAAAAAAACB}
{\bkmkend AAAAAAAACB}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v self_attn\:modeling_deepseek.DeepseekV3DecoderLayer}
{\xe \v modeling_deepseek.DeepseekV3DecoderLayer\:self_attn}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3DecoderLayer.self_attn}}
\par
{\bkmkstart AAAAAAAACC}
{\bkmkend AAAAAAAACC}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\pard\widctlpar\brdrb\brdrs\brdrw5\brsp20 \adjustright \par}
The documentation for this class was generated from the following file:{\par
\pard\plain \s121\fi-360\li720\widctlpar\jclisttab\tx720{\*\pn \pnlvlbody\ilvl0\ls2\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
/tmp/github_repos_arch_doc_gen/sumansaurabh/deeseek-model-visualizer/{\b modeling_deepseek.py}\par
}\par \pard\plain 

\pard\plain \sect\sbkpage
\s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
\pard\plain \s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
modeling_deepseek.DeepseekV3DynamicNTKScalingRotaryEmbedding Class Reference\par \pard\plain 
{\tc\tcl2 \v modeling_deepseek.DeepseekV3DynamicNTKScalingRotaryEmbedding}
{\xe \v modeling_deepseek.DeepseekV3DynamicNTKScalingRotaryEmbedding}
{\bkmkstart AAAAAAAACD}
{\bkmkend AAAAAAAACD}
Inheritance diagram for modeling_deepseek.DeepseekV3DynamicNTKScalingRotaryEmbedding:{
\pard\plain 
\par\pard \qc {\field\flddirty {\*\fldinst INCLUDEPICTURE "classmodeling__deepseek_1_1DeepseekV3DynamicNTKScalingRotaryEmbedding__inherit__graph.svg" \\d \\*MERGEFORMAT}{\fldrslt IMAGE}}\par
}
\par
Collaboration diagram for modeling_deepseek.DeepseekV3DynamicNTKScalingRotaryEmbedding:{
\pard\plain 
\par\pard \qc {\field\flddirty {\*\fldinst INCLUDEPICTURE "classmodeling__deepseek_1_1DeepseekV3DynamicNTKScalingRotaryEmbedding__coll__graph.svg" \\d \\*MERGEFORMAT}{\fldrslt IMAGE}}\par
}
\par
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Public Member Functions\par
\pard\plain 

{
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b __init__} (self, {\b dim}, {\b max_position_embeddings}=2048, {\b base}=10000, device=None, {\b scaling_factor}=1.0)\par
}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid 
Public Member Functions inherited from {\b modeling_deepseek.DeepseekV3RotaryEmbedding}\par
\pard\plain 

{
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b forward} (self, x, seq_len=None)\par
}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Public Attributes\par
\pard\plain 

{
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b scaling_factor}\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b max_seq_len_cached}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b max_position_embeddings}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b dim}\par
}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid 
Public Attributes inherited from {\b modeling_deepseek.DeepseekV3RotaryEmbedding}\par
\pard\plain 

{
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b dim}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b max_position_embeddings}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b base}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b max_seq_len_cached}\par
}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Protected Member Functions\par
\pard\plain 

{
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b _set_cos_sin_cache} (self, seq_len, device, dtype)\par
}
{\pard\widctlpar\brdrb\brdrs\brdrw5\brsp20 \adjustright \par}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Detailed Description\par
\pard\plain 
{
\pard\plain \s17\sa60\sb30\widctlpar\qj \fs22\cgrid {\s17\sa60\sb30\widctlpar\qj \fs22\cgrid 
{
\par
\pard\plain \s40\li0\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid DeepseekV3RotaryEmbedding extended with Dynamic NTK scaling. Credits to the Reddit users /u/bloc97 and /u/emozilla}
 \par
}}
{\pard\widctlpar\brdrb\brdrs\brdrw5\brsp20 \adjustright \par}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Constructor & Destructor Documentation\par
\pard\plain 
{\xe \v __init__\:modeling_deepseek.DeepseekV3DynamicNTKScalingRotaryEmbedding}
{\xe \v modeling_deepseek.DeepseekV3DynamicNTKScalingRotaryEmbedding\:__init__}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3DynamicNTKScalingRotaryEmbedding.__init__ (  {\i self},   {\i dim},   {\i max_position_embeddings} = {\f2 2048},   {\i base} = {\f2 10000},   {\i device} = {\f2 None},   {\i scaling_factor} = {\f2 1.0})}}
\par
{\bkmkstart AAAAAAAACE}
{\bkmkend AAAAAAAACE}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Reimplemented from {\b modeling_deepseek.DeepseekV3RotaryEmbedding} ({\i p.{\field\fldedit {\*\fldinst PAGEREF AAAAAAAACF \\*MERGEFORMAT}{\fldrslt pagenum}}}).}\par
}
{\pard\widctlpar\brdrb\brdrs\brdrw5\brsp20 \adjustright \par}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Member Function Documentation\par
\pard\plain 
{\xe \v _set_cos_sin_cache\:modeling_deepseek.DeepseekV3DynamicNTKScalingRotaryEmbedding}
{\xe \v modeling_deepseek.DeepseekV3DynamicNTKScalingRotaryEmbedding\:_set_cos_sin_cache}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3DynamicNTKScalingRotaryEmbedding._set_cos_sin_cache (  {\i self},   {\i seq_len},   {\i device},   {\i dtype}){\f2 [protected]}}}
\par
{\bkmkstart AAAAAAAACG}
{\bkmkend AAAAAAAACG}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
{\s17\sa60\sb30\widctlpar\qj \fs22\cgrid 
{
\par
\pard\plain \s41\li360\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid Set the cosine and sine cache for positional embeddings.\par
\par
This method calculates and caches the cosine and sine values for\par
positional embeddings based on the provided sequence length, device, and\par
data type. If the sequence length exceeds the maximum position\par
embeddings, it computes a scaling factor and the inverse frequency\par
values, which are then used to generate the cached cosine and sine\par
embeddings. The embeddings are stored as buffers for efficient access\par
during model inference.\par
\par
Args:\par
    seq_len (int): The length of the input sequence.\par
    device (torch.device): The device on which to allocate tensors.\par
    dtype (torch.dtype): The data type for the cached embeddings.\par
}
 \par
}{
Reimplemented from {\b modeling_deepseek.DeepseekV3RotaryEmbedding} ({\i p.{\field\fldedit {\*\fldinst PAGEREF AAAAAAAACH \\*MERGEFORMAT}{\fldrslt pagenum}}}).}\par
Here is the caller graph for this function:{
\pard\plain 
\par\pard \qc {\field\flddirty {\*\fldinst INCLUDEPICTURE "classmodeling__deepseek_1_1DeepseekV3DynamicNTKScalingRotaryEmbedding_a7bc816eb10147956ba9463291fe22749_icgraph.svg" \\d \\*MERGEFORMAT}{\fldrslt IMAGE}}\par
}
}
{\pard\widctlpar\brdrb\brdrs\brdrw5\brsp20 \adjustright \par}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Member Data Documentation\par
\pard\plain 
{\xe \v dim\:modeling_deepseek.DeepseekV3DynamicNTKScalingRotaryEmbedding}
{\xe \v modeling_deepseek.DeepseekV3DynamicNTKScalingRotaryEmbedding\:dim}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3DynamicNTKScalingRotaryEmbedding.dim}}
\par
{\bkmkstart AAAAAAAACI}
{\bkmkend AAAAAAAACI}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v max_position_embeddings\:modeling_deepseek.DeepseekV3DynamicNTKScalingRotaryEmbedding}
{\xe \v modeling_deepseek.DeepseekV3DynamicNTKScalingRotaryEmbedding\:max_position_embeddings}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3DynamicNTKScalingRotaryEmbedding.max_position_embeddings}}
\par
{\bkmkstart AAAAAAAACJ}
{\bkmkend AAAAAAAACJ}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v max_seq_len_cached\:modeling_deepseek.DeepseekV3DynamicNTKScalingRotaryEmbedding}
{\xe \v modeling_deepseek.DeepseekV3DynamicNTKScalingRotaryEmbedding\:max_seq_len_cached}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3DynamicNTKScalingRotaryEmbedding.max_seq_len_cached}}
\par
{\bkmkstart AAAAAAAACK}
{\bkmkend AAAAAAAACK}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v scaling_factor\:modeling_deepseek.DeepseekV3DynamicNTKScalingRotaryEmbedding}
{\xe \v modeling_deepseek.DeepseekV3DynamicNTKScalingRotaryEmbedding\:scaling_factor}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3DynamicNTKScalingRotaryEmbedding.scaling_factor}}
\par
{\bkmkstart AAAAAAAACL}
{\bkmkend AAAAAAAACL}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\pard\widctlpar\brdrb\brdrs\brdrw5\brsp20 \adjustright \par}
The documentation for this class was generated from the following file:{\par
\pard\plain \s121\fi-360\li720\widctlpar\jclisttab\tx720{\*\pn \pnlvlbody\ilvl0\ls2\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
/tmp/github_repos_arch_doc_gen/sumansaurabh/deeseek-model-visualizer/{\b modeling_deepseek.py}\par
}\par \pard\plain 

\pard\plain \sect\sbkpage
\s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
\pard\plain \s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
modeling_deepseek.DeepseekV3FlashAttention2 Class Reference\par \pard\plain 
{\tc\tcl2 \v modeling_deepseek.DeepseekV3FlashAttention2}
{\xe \v modeling_deepseek.DeepseekV3FlashAttention2}
{\bkmkstart AAAAAAAACM}
{\bkmkend AAAAAAAACM}
Inheritance diagram for modeling_deepseek.DeepseekV3FlashAttention2:{
\pard\plain 
\par\pard \qc {\field\flddirty {\*\fldinst INCLUDEPICTURE "classmodeling__deepseek_1_1DeepseekV3FlashAttention2__inherit__graph.svg" \\d \\*MERGEFORMAT}{\fldrslt IMAGE}}\par
}
\par
Collaboration diagram for modeling_deepseek.DeepseekV3FlashAttention2:{
\pard\plain 
\par\pard \qc {\field\flddirty {\*\fldinst INCLUDEPICTURE "classmodeling__deepseek_1_1DeepseekV3FlashAttention2__coll__graph.svg" \\d \\*MERGEFORMAT}{\fldrslt IMAGE}}\par
}
\par
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Public Member Functions\par
\pard\plain 

{
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b __init__} (self, *args, **kwargs)\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
Tuple[torch.Tensor, Optional[torch.Tensor], Optional[Tuple[torch.Tensor]]] {\b forward} (self, torch.Tensor hidden_states, Optional[torch.LongTensor] attention_mask=None, Optional[torch.LongTensor] position_ids=None, Optional[Cache] past_key_value=None, bool output_attentions=False, bool use_cache=False, **kwargs)\par
}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Public Attributes\par
\pard\plain 

{
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b qk_nope_head_dim}\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b kv_lora_rank}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b num_heads}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b v_head_dim}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b layer_idx}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b config}\par
}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid 
Public Attributes inherited from {\b modeling_deepseek.DeepseekV3Attention}\par
\pard\plain 

{
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b config}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b layer_idx}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b attention_dropout}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b hidden_size}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b num_heads}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b max_position_embeddings}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b rope_theta}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b q_lora_rank}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b qk_rope_head_dim}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b kv_lora_rank}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b v_head_dim}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b qk_nope_head_dim}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b q_head_dim}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b is_causal}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b q_proj}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b q_a_proj}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b q_a_layernorm}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b q_b_proj}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b kv_a_proj_with_mqa}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b kv_a_layernorm}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b kv_b_proj}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b o_proj}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b softmax_scale}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b rotary_emb}\par
}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Protected Member Functions\par
\pard\plain 

{
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b _flash_attention_forward} (self, query_states, key_states, value_states, attention_mask, query_length, dropout=0.0, {\b softmax_scale}=None)\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b _upad_input} (self, query_layer, key_layer, value_layer, attention_mask, query_length)\par
}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid 
Protected Member Functions inherited from {\b modeling_deepseek.DeepseekV3Attention}\par
\pard\plain 

{
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b _init_rope} (self)\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b _shape} (self, torch.Tensor tensor, int seq_len, int bsz)\par
}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Protected Attributes\par
\pard\plain 

{
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b _flash_attn_uses_top_left_mask}}
{\pard\widctlpar\brdrb\brdrs\brdrw5\brsp20 \adjustright \par}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Detailed Description\par
\pard\plain 
{
\pard\plain \s17\sa60\sb30\widctlpar\qj \fs22\cgrid {\s17\sa60\sb30\widctlpar\qj \fs22\cgrid 
{
\par
\pard\plain \s40\li0\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid DeepseekV3 flash attention module. This module inherits from `DeepseekV3Attention` as the weights of the module stays\par
untouched. The only required change would be on the forward pass where it needs to correctly call the public API of\par
flash attention and deal with padding tokens in case the input contains any of them.\par
}
 \par
}}
{\pard\widctlpar\brdrb\brdrs\brdrw5\brsp20 \adjustright \par}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Constructor & Destructor Documentation\par
\pard\plain 
{\xe \v __init__\:modeling_deepseek.DeepseekV3FlashAttention2}
{\xe \v modeling_deepseek.DeepseekV3FlashAttention2\:__init__}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3FlashAttention2.__init__ (  {\i self}, *  {\i args}, **  {\i kwargs})}}
\par
{\bkmkstart AAAAAAAAAS}
{\bkmkend AAAAAAAAAS}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Reimplemented from {\b modeling_deepseek.DeepseekV3Attention} ({\i p.{\field\fldedit {\*\fldinst PAGEREF AAAAAAAAAR \\*MERGEFORMAT}{\fldrslt pagenum}}}).}\par
}
{\pard\widctlpar\brdrb\brdrs\brdrw5\brsp20 \adjustright \par}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Member Function Documentation\par
\pard\plain 
{\xe \v _flash_attention_forward\:modeling_deepseek.DeepseekV3FlashAttention2}
{\xe \v modeling_deepseek.DeepseekV3FlashAttention2\:_flash_attention_forward}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3FlashAttention2._flash_attention_forward (  {\i self},   {\i query_states},   {\i key_states},   {\i value_states},   {\i attention_mask},   {\i query_length},   {\i dropout} = {\f2 0.0},   {\i softmax_scale} = {\f2 None}){\f2 [protected]}}}
\par
{\bkmkstart AAAAAAAACN}
{\bkmkend AAAAAAAACN}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
{\s17\sa60\sb30\widctlpar\qj \fs22\cgrid 
{
\par
\pard\plain \s41\li360\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid Compute the forward pass of Flash Attention with optional padding\par
handling.\par
\par
This function processes the input query, key, and value states to\par
compute attention scores. If the input contains padding tokens, it first\par
removes the padding, computes the attention scores, and then re-pads the\par
output to match the original input shape. The function supports dropout\par
and softmax scaling for enhanced performance in attention mechanisms.\par
\par
Args:\par
    query_states (torch.Tensor): Input query states to be passed to Flash Attention API.\par
    key_states (torch.Tensor): Input key states to be passed to Flash Attention API.\par
    value_states (torch.Tensor): Input value states to be passed to Flash Attention API.\par
    attention_mask (torch.Tensor): The padding mask - corresponds to a tensor of size `(batch_size,\par
        seq_len)` where 0 stands for\par
        the position of padding tokens and 1 for the position of non-padding\par
        tokens.\par
    dropout (int?): Attention dropout. Defaults to 0.0.\par
    softmax_scale (float?): The scaling of QK^T before applying softmax. Defaults to 1 /\par
        sqrt(head_dim).\par
\par
Returns:\par
    torch.Tensor: The computed attention output after processing the input states.\par
}
 \par
}}
{\xe \v _upad_input\:modeling_deepseek.DeepseekV3FlashAttention2}
{\xe \v modeling_deepseek.DeepseekV3FlashAttention2\:_upad_input}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3FlashAttention2._upad_input (  {\i self},   {\i query_layer},   {\i key_layer},   {\i value_layer},   {\i attention_mask},   {\i query_length}){\f2 [protected]}}}
\par
{\bkmkstart AAAAAAAACO}
{\bkmkend AAAAAAAACO}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
{\s17\sa60\sb30\widctlpar\qj \fs22\cgrid 
{
\par
\pard\plain \s41\li360\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid Unpad input layers for attention mechanism.\par
\par
This function processes the input layers (query, key, and value) by\par
removing padding based on the provided attention mask. It reshapes the\par
layers and adjusts the indices and sequence lengths accordingly. The\par
function handles different cases for the query length, ensuring that the\par
output layers are correctly aligned for further processing in the\par
attention mechanism.\par
\par
Args:\par
    query_layer (torch.Tensor): The query layer tensor of shape\par
        (batch_size, num_heads, query_length, head_dim).\par
    key_layer (torch.Tensor): The key layer tensor of shape\par
        (batch_size, num_heads, kv_seq_len, head_dim).\par
    value_layer (torch.Tensor): The value layer tensor of shape\par
        (batch_size, num_heads, kv_seq_len, head_dim).\par
    attention_mask (torch.Tensor): The attention mask tensor used to\par
        determine which elements to unpad.\par
    query_length (int): The length of the query sequence.\par
\par
Returns:\par
    tuple: A tuple containing:\par
        - query_layer (torch.Tensor): The processed query layer.\par
        - key_layer (torch.Tensor): The processed key layer.\par
        - value_layer (torch.Tensor): The processed value layer.\par
        - indices_q (torch.Tensor): Indices for the query layer.\par
        - cu_seqlens (tuple): A tuple containing cumulative sequence lengths\par
        for query and key layers.\par
        - max_seqlen_in_batch (tuple): A tuple containing the maximum\par
        sequence lengths in the batch for query and key layers.\par
}
 \par
}}
{\xe \v forward\:modeling_deepseek.DeepseekV3FlashAttention2}
{\xe \v modeling_deepseek.DeepseekV3FlashAttention2\:forward}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
 Tuple[torch.Tensor, Optional[torch.Tensor], Optional[Tuple[torch.Tensor]]] modeling_deepseek.DeepseekV3FlashAttention2.forward (  {\i self}, torch.Tensor  {\i hidden_states}, Optional[torch.LongTensor]   {\i attention_mask} = {\f2 None}, Optional[torch.LongTensor]   {\i position_ids} = {\f2 None}, Optional[Cache]   {\i past_key_value} = {\f2 None}, bool   {\i output_attentions} = {\f2 False}, bool   {\i use_cache} = {\f2 False}, **  {\i kwargs})}}
\par
{\bkmkstart AAAAAAAAAW}
{\bkmkend AAAAAAAAAW}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
{\s17\sa60\sb30\widctlpar\qj \fs22\cgrid 
{
\par
\pard\plain \s41\li360\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid Perform the forward pass of the attention mechanism.\par
\par
This function computes the attention output based on the provided hidden\par
states and optional parameters. It handles the projection of queries,\par
keys, and values, applies rotary positional embeddings, and performs the\par
attention calculation using Flash Attention. The function also manages\par
the input data types and can utilize cached key-value pairs for\par
efficiency.\par
\par
Args:\par
    hidden_states (torch.Tensor): The input tensor containing hidden states.\par
    attention_mask (Optional[torch.LongTensor]?): A mask to avoid attending to certain positions. Defaults to None.\par
    position_ids (Optional[torch.LongTensor]?): Position IDs for the input sequence. Defaults to None.\par
    past_key_value (Optional[Cache]?): Cached key-value pairs from previous computations. Defaults to None.\par
    output_attentions (bool?): Whether to return attention weights. Defaults to False.\par
    use_cache (bool?): Whether to use cached key-value pairs. Defaults to False.\par
    **kwargs: Additional keyword arguments, including deprecated `padding_mask`.\par
\par
Returns:\par
    Tuple[torch.Tensor, Optional[torch.Tensor], Optional[Tuple[torch.Tensor]]]: A tuple containing the attention output, attention weights (if\par
        requested),\par
        and updated cached key-value pairs.\par
}
 \par
}{
Reimplemented from {\b modeling_deepseek.DeepseekV3Attention} ({\i p.{\field\fldedit {\*\fldinst PAGEREF AAAAAAAAAV \\*MERGEFORMAT}{\fldrslt pagenum}}}).}\par
}
{\pard\widctlpar\brdrb\brdrs\brdrw5\brsp20 \adjustright \par}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Member Data Documentation\par
\pard\plain 
{\xe \v _flash_attn_uses_top_left_mask\:modeling_deepseek.DeepseekV3FlashAttention2}
{\xe \v modeling_deepseek.DeepseekV3FlashAttention2\:_flash_attn_uses_top_left_mask}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3FlashAttention2._flash_attn_uses_top_left_mask{\f2 [protected]}}}
\par
{\bkmkstart AAAAAAAACP}
{\bkmkend AAAAAAAACP}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v config\:modeling_deepseek.DeepseekV3FlashAttention2}
{\xe \v modeling_deepseek.DeepseekV3FlashAttention2\:config}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3FlashAttention2.config}}
\par
{\bkmkstart AAAAAAAACQ}
{\bkmkend AAAAAAAACQ}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v kv_lora_rank\:modeling_deepseek.DeepseekV3FlashAttention2}
{\xe \v modeling_deepseek.DeepseekV3FlashAttention2\:kv_lora_rank}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3FlashAttention2.kv_lora_rank}}
\par
{\bkmkstart AAAAAAAACR}
{\bkmkend AAAAAAAACR}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v layer_idx\:modeling_deepseek.DeepseekV3FlashAttention2}
{\xe \v modeling_deepseek.DeepseekV3FlashAttention2\:layer_idx}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3FlashAttention2.layer_idx}}
\par
{\bkmkstart AAAAAAAACS}
{\bkmkend AAAAAAAACS}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v num_heads\:modeling_deepseek.DeepseekV3FlashAttention2}
{\xe \v modeling_deepseek.DeepseekV3FlashAttention2\:num_heads}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3FlashAttention2.num_heads}}
\par
{\bkmkstart AAAAAAAACT}
{\bkmkend AAAAAAAACT}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v qk_nope_head_dim\:modeling_deepseek.DeepseekV3FlashAttention2}
{\xe \v modeling_deepseek.DeepseekV3FlashAttention2\:qk_nope_head_dim}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3FlashAttention2.qk_nope_head_dim}}
\par
{\bkmkstart AAAAAAAACU}
{\bkmkend AAAAAAAACU}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v v_head_dim\:modeling_deepseek.DeepseekV3FlashAttention2}
{\xe \v modeling_deepseek.DeepseekV3FlashAttention2\:v_head_dim}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3FlashAttention2.v_head_dim}}
\par
{\bkmkstart AAAAAAAACV}
{\bkmkend AAAAAAAACV}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\pard\widctlpar\brdrb\brdrs\brdrw5\brsp20 \adjustright \par}
The documentation for this class was generated from the following file:{\par
\pard\plain \s121\fi-360\li720\widctlpar\jclisttab\tx720{\*\pn \pnlvlbody\ilvl0\ls2\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
/tmp/github_repos_arch_doc_gen/sumansaurabh/deeseek-model-visualizer/{\b modeling_deepseek.py}\par
}\par \pard\plain 

\pard\plain \sect\sbkpage
\s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
\pard\plain \s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
modeling_deepseek.DeepseekV3ForCausalLM Class Reference\par \pard\plain 
{\tc\tcl2 \v modeling_deepseek.DeepseekV3ForCausalLM}
{\xe \v modeling_deepseek.DeepseekV3ForCausalLM}
{\bkmkstart AAAAAAAACW}
{\bkmkend AAAAAAAACW}
Inheritance diagram for modeling_deepseek.DeepseekV3ForCausalLM:{
\pard\plain 
\par\pard \qc {\field\flddirty {\*\fldinst INCLUDEPICTURE "classmodeling__deepseek_1_1DeepseekV3ForCausalLM__inherit__graph.svg" \\d \\*MERGEFORMAT}{\fldrslt IMAGE}}\par
}
\par
Collaboration diagram for modeling_deepseek.DeepseekV3ForCausalLM:{
\pard\plain 
\par\pard \qc {\field\flddirty {\*\fldinst INCLUDEPICTURE "classmodeling__deepseek_1_1DeepseekV3ForCausalLM__coll__graph.svg" \\d \\*MERGEFORMAT}{\fldrslt IMAGE}}\par
}
\par
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Public Member Functions\par
\pard\plain 

{
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b __init__} (self, config)\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b get_input_embeddings} (self)\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b set_input_embeddings} (self, value)\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b get_output_embeddings} (self)\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b set_output_embeddings} (self, new_embeddings)\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b set_decoder} (self, decoder)\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b get_decoder} (self)\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
Union[Tuple, CausalLMOutputWithPast] {\b forward} (self, torch.LongTensor input_ids=None, Optional[torch.Tensor] attention_mask=None, Optional[torch.LongTensor] position_ids=None, Optional[List[torch.FloatTensor]] past_key_values=None, Optional[torch.FloatTensor] inputs_embeds=None, Optional[torch.LongTensor] labels=None, Optional[bool] use_cache=None, Optional[bool] output_attentions=None, Optional[bool] output_hidden_states=None, Optional[bool] return_dict=None)\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b prepare_inputs_for_generation} (self, input_ids, past_key_values=None, attention_mask=None, inputs_embeds=None, **kwargs)\par
}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Public Attributes\par
\pard\plain 

{
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b model}\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b vocab_size}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b lm_head}\par
}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Static Protected Member Functions\par
\pard\plain 

{
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b _reorder_cache} (past_key_values, beam_idx)\par
}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Static Protected Attributes\par
\pard\plain 

{
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
list {\b _tied_weights_keys} = ["lm_head.weight"]\par
}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid 
Static Protected Attributes inherited from {\b modeling_deepseek.DeepseekV3PreTrainedModel}\par
\pard\plain 

{
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
list {\b _no_split_modules} = ["DeepseekV3DecoderLayer"]\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
str {\b _skip_keys_device_placement} = "past_key_values"\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
bool {\b _supports_flash_attn_2} = True\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
bool {\b _supports_cache_class} = True\par
}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Additional Inherited Members\par
\pard\plain 
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid 
Static Public Attributes inherited from {\b modeling_deepseek.DeepseekV3PreTrainedModel}\par
\pard\plain 

{
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b config_class} = DeepseekV3Config\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
str {\b base_model_prefix} = "model"\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
bool {\b supports_gradient_checkpointing} = True\par
}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid 
Protected Member Functions inherited from {\b modeling_deepseek.DeepseekV3PreTrainedModel}\par
\pard\plain 

{
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b _init_weights} (self, module)\par
}
{\pard\widctlpar\brdrb\brdrs\brdrw5\brsp20 \adjustright \par}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Constructor & Destructor Documentation\par
\pard\plain 
{\xe \v __init__\:modeling_deepseek.DeepseekV3ForCausalLM}
{\xe \v modeling_deepseek.DeepseekV3ForCausalLM\:__init__}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3ForCausalLM.__init__ (  {\i self},   {\i config})}}
\par
{\bkmkstart AAAAAAAACX}
{\bkmkend AAAAAAAACX}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\pard\widctlpar\brdrb\brdrs\brdrw5\brsp20 \adjustright \par}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Member Function Documentation\par
\pard\plain 
{\xe \v _reorder_cache\:modeling_deepseek.DeepseekV3ForCausalLM}
{\xe \v modeling_deepseek.DeepseekV3ForCausalLM\:_reorder_cache}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3ForCausalLM._reorder_cache (  {\i past_key_values},   {\i beam_idx}){\f2 [static]}, {\f2 [protected]}}}
\par
{\bkmkstart AAAAAAAACY}
{\bkmkend AAAAAAAACY}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
{\s17\sa60\sb30\widctlpar\qj \fs22\cgrid 
{
\par
\pard\plain \s41\li360\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid Reorder the cached past key values based on beam indices.\par
\par
This function takes a collection of past key values and reorders them\par
according to the specified beam indices. It iterates through each layer\par
of past key values, selecting the relevant past states for the given\par
beam indices and returning a new tuple containing the reordered past key\par
values.\par
\par
Args:\par
    past_key_values (tuple): A tuple of past key values, where each element corresponds to a layer of\par
        past states.\par
    beam_idx (Tensor): A tensor containing the indices used to reorder the past states.\par
\par
Returns:\par
    tuple: A tuple containing the reordered past key values for each layer.\par
}
 \par
}}
{\xe \v forward\:modeling_deepseek.DeepseekV3ForCausalLM}
{\xe \v modeling_deepseek.DeepseekV3ForCausalLM\:forward}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
 Union[Tuple, CausalLMOutputWithPast] modeling_deepseek.DeepseekV3ForCausalLM.forward (  {\i self}, torch.LongTensor   {\i input_ids} = {\f2 None}, Optional[torch.Tensor]   {\i attention_mask} = {\f2 None}, Optional[torch.LongTensor]   {\i position_ids} = {\f2 None}, Optional[List[torch.FloatTensor]]   {\i past_key_values} = {\f2 None}, Optional[torch.FloatTensor]   {\i inputs_embeds} = {\f2 None}, Optional[torch.LongTensor]   {\i labels} = {\f2 None}, Optional[bool]   {\i use_cache} = {\f2 None}, Optional[bool]   {\i output_attentions} = {\f2 None}, Optional[bool]   {\i output_hidden_states} = {\f2 None}, Optional[bool]   {\i return_dict} = {\f2 None})}}
\par
{\bkmkstart AAAAAAAACZ}
{\bkmkend AAAAAAAACZ}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
{\s17\sa60\sb30\widctlpar\qj \fs22\cgrid 
{
\par
\pard\plain \s41\li360\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid Forward pass for the model.\par
\par
This method performs a forward pass through the model, processing the\par
input tensors and returning the model's output. It computes the logits\par
for the input sequence and, if labels are provided, calculates the loss\par
for masked language modeling. The method also supports various\par
configurations such as attention masks, position IDs, and caching of\par
past key values.\par
\par
Args:\par
    input_ids (torch.LongTensor?): Input tensor containing token IDs.\par
    attention_mask (torch.Tensor?): Mask to avoid performing attention on padding token indices.\par
    position_ids (torch.LongTensor?): Optional position IDs for the input tokens.\par
    past_key_values (List[torch.FloatTensor]?): Cached key and value pairs from previous decoder layers for faster\par
        decoding.\par
    inputs_embeds (torch.FloatTensor?): Optional input embeddings instead of input IDs.\par
    labels (torch.LongTensor?): Labels for computing the masked language modeling loss. Indices should\par
        either be in `[0, transformers.config.vocab_size]` or -100.\par
        Tokens with indices set to `-100` are ignored (masked), and the loss is\par
        only computed for tokens with valid labels.\par
    use_cache (bool?): Whether to use cache for past key values.\par
    output_attentions (bool?): Whether to return attention weights.\par
    output_hidden_states (bool?): Whether to return hidden states.\par
    return_dict (bool?): Whether to return a dictionary instead of a tuple.\par
\par
Returns:\par
    Union[Tuple, CausalLMOutputWithPast]: If `return_dict` is False, returns a tuple containing the logits and\par
        other outputs.\par
        If `return_dict` is True, returns an instance of\par
        `CausalLMOutputWithPast` containing loss, logits, past key values,\par
        hidden states, and attentions.\par
\par
Examples:\par
    ```python\par
    >>> from transformers import AutoTokenizer, DeepseekV3ForCausalLM\par
    >>> model =\par
    DeepseekV3ForCausalLM.from_pretrained(PATH_TO_CONVERTED_WEIGHTS)\par
    >>> tokenizer =\par
    AutoTokenizer.from_pretrained(PATH_TO_CONVERTED_TOKENIZER)\par
    >>> prompt = "Hey, are you conscious? Can you talk to me?"\par
    >>> inputs = tokenizer(prompt, return_tensors="pt")\par
    >>> # Generate\par
    >>> generate_ids = model.generate(inputs.input_ids, max_length=30)\par
    >>> tokenizer.batch_decode(generate_ids, skip_special_tokens=True,\par
    clean_up_tokenization_spaces=False)[0]\par
    "Hey, are you conscious? Can you talk to me?\\nI'm not conscious, but I\par
    can talk to you."\par
    ```\par
}
 \par
}}
{\xe \v get_decoder\:modeling_deepseek.DeepseekV3ForCausalLM}
{\xe \v modeling_deepseek.DeepseekV3ForCausalLM\:get_decoder}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3ForCausalLM.get_decoder (  {\i self})}}
\par
{\bkmkstart AAAAAAAADA}
{\bkmkend AAAAAAAADA}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v get_input_embeddings\:modeling_deepseek.DeepseekV3ForCausalLM}
{\xe \v modeling_deepseek.DeepseekV3ForCausalLM\:get_input_embeddings}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3ForCausalLM.get_input_embeddings (  {\i self})}}
\par
{\bkmkstart AAAAAAAADB}
{\bkmkend AAAAAAAADB}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v get_output_embeddings\:modeling_deepseek.DeepseekV3ForCausalLM}
{\xe \v modeling_deepseek.DeepseekV3ForCausalLM\:get_output_embeddings}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3ForCausalLM.get_output_embeddings (  {\i self})}}
\par
{\bkmkstart AAAAAAAADC}
{\bkmkend AAAAAAAADC}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v prepare_inputs_for_generation\:modeling_deepseek.DeepseekV3ForCausalLM}
{\xe \v modeling_deepseek.DeepseekV3ForCausalLM\:prepare_inputs_for_generation}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3ForCausalLM.prepare_inputs_for_generation (  {\i self},   {\i input_ids},   {\i past_key_values} = {\f2 None},   {\i attention_mask} = {\f2 None},   {\i inputs_embeds} = {\f2 None}, **  {\i kwargs})}}
\par
{\bkmkstart AAAAAAAADD}
{\bkmkend AAAAAAAADD}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
{\s17\sa60\sb30\widctlpar\qj \fs22\cgrid 
{
\par
\pard\plain \s41\li360\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid Prepare inputs for the generation process.\par
\par
This function processes the input IDs, past key values, attention mask,\par
and input embeddings to create a dictionary of model inputs suitable for\par
the generation step. It handles various scenarios, such as adjusting the\par
input IDs based on the past key values and attention mask, creating\par
position IDs if not provided, and ensuring that the inputs do not exceed\par
the maximum cache length.\par
\par
Args:\par
    input_ids (Tensor): The input IDs for the generation process.\par
    past_key_values (Cache or tuple?): The past key values used for caching. If provided, it\par
        can be an instance of Cache or a tuple containing past key values.\par
    attention_mask (Tensor?): The attention mask indicating which tokens should be attended to.\par
    inputs_embeds (Tensor?): The input embeddings to be used instead of input IDs.\par
    **kwargs: Additional keyword arguments that may include 'position_ids',\par
        'use_cache', etc.\par
\par
Returns:\par
    dict: A dictionary containing the prepared model inputs, which includes\par
        'input_ids', 'position_ids',\par
}
 \par
}}
{\xe \v set_decoder\:modeling_deepseek.DeepseekV3ForCausalLM}
{\xe \v modeling_deepseek.DeepseekV3ForCausalLM\:set_decoder}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3ForCausalLM.set_decoder (  {\i self},   {\i decoder})}}
\par
{\bkmkstart AAAAAAAADE}
{\bkmkend AAAAAAAADE}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v set_input_embeddings\:modeling_deepseek.DeepseekV3ForCausalLM}
{\xe \v modeling_deepseek.DeepseekV3ForCausalLM\:set_input_embeddings}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3ForCausalLM.set_input_embeddings (  {\i self},   {\i value})}}
\par
{\bkmkstart AAAAAAAADF}
{\bkmkend AAAAAAAADF}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v set_output_embeddings\:modeling_deepseek.DeepseekV3ForCausalLM}
{\xe \v modeling_deepseek.DeepseekV3ForCausalLM\:set_output_embeddings}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3ForCausalLM.set_output_embeddings (  {\i self},   {\i new_embeddings})}}
\par
{\bkmkstart AAAAAAAADG}
{\bkmkend AAAAAAAADG}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\pard\widctlpar\brdrb\brdrs\brdrw5\brsp20 \adjustright \par}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Member Data Documentation\par
\pard\plain 
{\xe \v _tied_weights_keys\:modeling_deepseek.DeepseekV3ForCausalLM}
{\xe \v modeling_deepseek.DeepseekV3ForCausalLM\:_tied_weights_keys}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
list modeling_deepseek.DeepseekV3ForCausalLM._tied_weights_keys = ["lm_head.weight"]{\f2 [static]}, {\f2 [protected]}}}
\par
{\bkmkstart AAAAAAAADH}
{\bkmkend AAAAAAAADH}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v lm_head\:modeling_deepseek.DeepseekV3ForCausalLM}
{\xe \v modeling_deepseek.DeepseekV3ForCausalLM\:lm_head}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3ForCausalLM.lm_head}}
\par
{\bkmkstart AAAAAAAADI}
{\bkmkend AAAAAAAADI}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v model\:modeling_deepseek.DeepseekV3ForCausalLM}
{\xe \v modeling_deepseek.DeepseekV3ForCausalLM\:model}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3ForCausalLM.model}}
\par
{\bkmkstart AAAAAAAADJ}
{\bkmkend AAAAAAAADJ}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v vocab_size\:modeling_deepseek.DeepseekV3ForCausalLM}
{\xe \v modeling_deepseek.DeepseekV3ForCausalLM\:vocab_size}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3ForCausalLM.vocab_size}}
\par
{\bkmkstart AAAAAAAADK}
{\bkmkend AAAAAAAADK}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\pard\widctlpar\brdrb\brdrs\brdrw5\brsp20 \adjustright \par}
The documentation for this class was generated from the following file:{\par
\pard\plain \s121\fi-360\li720\widctlpar\jclisttab\tx720{\*\pn \pnlvlbody\ilvl0\ls2\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
/tmp/github_repos_arch_doc_gen/sumansaurabh/deeseek-model-visualizer/{\b modeling_deepseek.py}\par
}\par \pard\plain 

\pard\plain \sect\sbkpage
\s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
\pard\plain \s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
modeling_deepseek.DeepseekV3ForSequenceClassification Class Reference\par \pard\plain 
{\tc\tcl2 \v modeling_deepseek.DeepseekV3ForSequenceClassification}
{\xe \v modeling_deepseek.DeepseekV3ForSequenceClassification}
{\bkmkstart AAAAAAAADL}
{\bkmkend AAAAAAAADL}
Inheritance diagram for modeling_deepseek.DeepseekV3ForSequenceClassification:{
\pard\plain 
\par\pard \qc {\field\flddirty {\*\fldinst INCLUDEPICTURE "classmodeling__deepseek_1_1DeepseekV3ForSequenceClassification__inherit__graph.svg" \\d \\*MERGEFORMAT}{\fldrslt IMAGE}}\par
}
\par
Collaboration diagram for modeling_deepseek.DeepseekV3ForSequenceClassification:{
\pard\plain 
\par\pard \qc {\field\flddirty {\*\fldinst INCLUDEPICTURE "classmodeling__deepseek_1_1DeepseekV3ForSequenceClassification__coll__graph.svg" \\d \\*MERGEFORMAT}{\fldrslt IMAGE}}\par
}
\par
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Public Member Functions\par
\pard\plain 

{
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b __init__} (self, config)\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b get_input_embeddings} (self)\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b set_input_embeddings} (self, value)\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
Union[Tuple, SequenceClassifierOutputWithPast] {\b forward} (self, torch.LongTensor input_ids=None, Optional[torch.Tensor] attention_mask=None, Optional[torch.LongTensor] position_ids=None, Optional[List[torch.FloatTensor]] past_key_values=None, Optional[torch.FloatTensor] inputs_embeds=None, Optional[torch.LongTensor] labels=None, Optional[bool] use_cache=None, Optional[bool] output_attentions=None, Optional[bool] output_hidden_states=None, Optional[bool] return_dict=None)\par
}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Public Attributes\par
\pard\plain 

{
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b num_labels}\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b model}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b score}\par
}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Additional Inherited Members\par
\pard\plain 
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid 
Static Public Attributes inherited from {\b modeling_deepseek.DeepseekV3PreTrainedModel}\par
\pard\plain 

{
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b config_class} = DeepseekV3Config\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
str {\b base_model_prefix} = "model"\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
bool {\b supports_gradient_checkpointing} = True\par
}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid 
Protected Member Functions inherited from {\b modeling_deepseek.DeepseekV3PreTrainedModel}\par
\pard\plain 

{
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b _init_weights} (self, module)\par
}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid 
Static Protected Attributes inherited from {\b modeling_deepseek.DeepseekV3PreTrainedModel}\par
\pard\plain 

{
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
list {\b _no_split_modules} = ["DeepseekV3DecoderLayer"]\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
str {\b _skip_keys_device_placement} = "past_key_values"\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
bool {\b _supports_flash_attn_2} = True\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
bool {\b _supports_cache_class} = True\par
}
{\pard\widctlpar\brdrb\brdrs\brdrw5\brsp20 \adjustright \par}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Constructor & Destructor Documentation\par
\pard\plain 
{\xe \v __init__\:modeling_deepseek.DeepseekV3ForSequenceClassification}
{\xe \v modeling_deepseek.DeepseekV3ForSequenceClassification\:__init__}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3ForSequenceClassification.__init__ (  {\i self},   {\i config})}}
\par
{\bkmkstart AAAAAAAADM}
{\bkmkend AAAAAAAADM}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\pard\widctlpar\brdrb\brdrs\brdrw5\brsp20 \adjustright \par}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Member Function Documentation\par
\pard\plain 
{\xe \v forward\:modeling_deepseek.DeepseekV3ForSequenceClassification}
{\xe \v modeling_deepseek.DeepseekV3ForSequenceClassification\:forward}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
 Union[Tuple, SequenceClassifierOutputWithPast] modeling_deepseek.DeepseekV3ForSequenceClassification.forward (  {\i self}, torch.LongTensor   {\i input_ids} = {\f2 None}, Optional[torch.Tensor]   {\i attention_mask} = {\f2 None}, Optional[torch.LongTensor]   {\i position_ids} = {\f2 None}, Optional[List[torch.FloatTensor]]   {\i past_key_values} = {\f2 None}, Optional[torch.FloatTensor]   {\i inputs_embeds} = {\f2 None}, Optional[torch.LongTensor]   {\i labels} = {\f2 None}, Optional[bool]   {\i use_cache} = {\f2 None}, Optional[bool]   {\i output_attentions} = {\f2 None}, Optional[bool]   {\i output_hidden_states} = {\f2 None}, Optional[bool]   {\i return_dict} = {\f2 None})}}
\par
{\bkmkstart AAAAAAAADN}
{\bkmkend AAAAAAAADN}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
{\s17\sa60\sb30\widctlpar\qj \fs22\cgrid 
{
\par
\pard\plain \s41\li360\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid Forward pass for the model, computing logits and optionally the loss.\par
\par
This method processes the input tensors through the model to obtain the\par
output logits. It can also compute the loss if labels are provided. The\par
function handles various configurations for sequence classification or\par
regression tasks based on the number of labels and the specified problem\par
type. Additionally, it manages attention masks, position IDs, and past\par
key values to optimize the transformer model's performance.\par
\par
Args:\par
    input_ids (torch.LongTensor?): Tensor of input token IDs.\par
    attention_mask (torch.Tensor?): Mask to avoid attending to padding tokens.\par
    position_ids (torch.LongTensor?): Tensor of position IDs for input tokens.\par
    past_key_values (List[torch.FloatTensor]?): Past key values for caching.\par
    inputs_embeds (torch.FloatTensor?): Precomputed embeddings for input tokens.\par
    labels (torch.LongTensor?): Labels for computing the sequence classification/regression loss.\par
    use_cache (bool?): Whether to use cache for past key values.\par
    output_attentions (bool?): Whether to return attention weights.\par
    output_hidden_states (bool?): Whether to return hidden states.\par
    return_dict (bool?): Whether to return a dictionary instead of a tuple.\par
\par
Returns:\par
    Union[Tuple, SequenceClassifierOutputWithPast]: The output logits and optionally the loss\par
    and other outputs depending on the return_dict flag.\par
\par
Raises:\par
    ValueError: If batch sizes greater than 1 are provided without a defined padding\par
        token.\par
}
 \par
}}
{\xe \v get_input_embeddings\:modeling_deepseek.DeepseekV3ForSequenceClassification}
{\xe \v modeling_deepseek.DeepseekV3ForSequenceClassification\:get_input_embeddings}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3ForSequenceClassification.get_input_embeddings (  {\i self})}}
\par
{\bkmkstart AAAAAAAADO}
{\bkmkend AAAAAAAADO}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v set_input_embeddings\:modeling_deepseek.DeepseekV3ForSequenceClassification}
{\xe \v modeling_deepseek.DeepseekV3ForSequenceClassification\:set_input_embeddings}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3ForSequenceClassification.set_input_embeddings (  {\i self},   {\i value})}}
\par
{\bkmkstart AAAAAAAADP}
{\bkmkend AAAAAAAADP}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\pard\widctlpar\brdrb\brdrs\brdrw5\brsp20 \adjustright \par}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Member Data Documentation\par
\pard\plain 
{\xe \v model\:modeling_deepseek.DeepseekV3ForSequenceClassification}
{\xe \v modeling_deepseek.DeepseekV3ForSequenceClassification\:model}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3ForSequenceClassification.model}}
\par
{\bkmkstart AAAAAAAADQ}
{\bkmkend AAAAAAAADQ}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v num_labels\:modeling_deepseek.DeepseekV3ForSequenceClassification}
{\xe \v modeling_deepseek.DeepseekV3ForSequenceClassification\:num_labels}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3ForSequenceClassification.num_labels}}
\par
{\bkmkstart AAAAAAAADR}
{\bkmkend AAAAAAAADR}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v score\:modeling_deepseek.DeepseekV3ForSequenceClassification}
{\xe \v modeling_deepseek.DeepseekV3ForSequenceClassification\:score}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3ForSequenceClassification.score}}
\par
{\bkmkstart AAAAAAAADS}
{\bkmkend AAAAAAAADS}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\pard\widctlpar\brdrb\brdrs\brdrw5\brsp20 \adjustright \par}
The documentation for this class was generated from the following file:{\par
\pard\plain \s121\fi-360\li720\widctlpar\jclisttab\tx720{\*\pn \pnlvlbody\ilvl0\ls2\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
/tmp/github_repos_arch_doc_gen/sumansaurabh/deeseek-model-visualizer/{\b modeling_deepseek.py}\par
}\par \pard\plain 

\pard\plain \sect\sbkpage
\s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
\pard\plain \s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
modeling_deepseek.DeepseekV3LinearScalingRotaryEmbedding Class Reference\par \pard\plain 
{\tc\tcl2 \v modeling_deepseek.DeepseekV3LinearScalingRotaryEmbedding}
{\xe \v modeling_deepseek.DeepseekV3LinearScalingRotaryEmbedding}
{\bkmkstart AAAAAAAADT}
{\bkmkend AAAAAAAADT}
Inheritance diagram for modeling_deepseek.DeepseekV3LinearScalingRotaryEmbedding:{
\pard\plain 
\par\pard \qc {\field\flddirty {\*\fldinst INCLUDEPICTURE "classmodeling__deepseek_1_1DeepseekV3LinearScalingRotaryEmbedding__inherit__graph.svg" \\d \\*MERGEFORMAT}{\fldrslt IMAGE}}\par
}
\par
Collaboration diagram for modeling_deepseek.DeepseekV3LinearScalingRotaryEmbedding:{
\pard\plain 
\par\pard \qc {\field\flddirty {\*\fldinst INCLUDEPICTURE "classmodeling__deepseek_1_1DeepseekV3LinearScalingRotaryEmbedding__coll__graph.svg" \\d \\*MERGEFORMAT}{\fldrslt IMAGE}}\par
}
\par
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Public Member Functions\par
\pard\plain 

{
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b __init__} (self, {\b dim}, {\b max_position_embeddings}=2048, {\b base}=10000, device=None, {\b scaling_factor}=1.0)\par
}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid 
Public Member Functions inherited from {\b modeling_deepseek.DeepseekV3RotaryEmbedding}\par
\pard\plain 

{
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b forward} (self, x, seq_len=None)\par
}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Public Attributes\par
\pard\plain 

{
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b scaling_factor}\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b max_seq_len_cached}\par
}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid 
Public Attributes inherited from {\b modeling_deepseek.DeepseekV3RotaryEmbedding}\par
\pard\plain 

{
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b dim}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b max_position_embeddings}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b base}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b max_seq_len_cached}\par
}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Protected Member Functions\par
\pard\plain 

{
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b _set_cos_sin_cache} (self, seq_len, device, dtype)\par
}
{\pard\widctlpar\brdrb\brdrs\brdrw5\brsp20 \adjustright \par}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Detailed Description\par
\pard\plain 
{
\pard\plain \s17\sa60\sb30\widctlpar\qj \fs22\cgrid {\s17\sa60\sb30\widctlpar\qj \fs22\cgrid 
{
\par
\pard\plain \s40\li0\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid DeepseekV3RotaryEmbedding extended with linear scaling. Credits to the Reddit user /u/kaiokendev}
 \par
}}
{\pard\widctlpar\brdrb\brdrs\brdrw5\brsp20 \adjustright \par}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Constructor & Destructor Documentation\par
\pard\plain 
{\xe \v __init__\:modeling_deepseek.DeepseekV3LinearScalingRotaryEmbedding}
{\xe \v modeling_deepseek.DeepseekV3LinearScalingRotaryEmbedding\:__init__}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3LinearScalingRotaryEmbedding.__init__ (  {\i self},   {\i dim},   {\i max_position_embeddings} = {\f2 2048},   {\i base} = {\f2 10000},   {\i device} = {\f2 None},   {\i scaling_factor} = {\f2 1.0})}}
\par
{\bkmkstart AAAAAAAADU}
{\bkmkend AAAAAAAADU}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Reimplemented from {\b modeling_deepseek.DeepseekV3RotaryEmbedding} ({\i p.{\field\fldedit {\*\fldinst PAGEREF AAAAAAAACF \\*MERGEFORMAT}{\fldrslt pagenum}}}).}\par
}
{\pard\widctlpar\brdrb\brdrs\brdrw5\brsp20 \adjustright \par}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Member Function Documentation\par
\pard\plain 
{\xe \v _set_cos_sin_cache\:modeling_deepseek.DeepseekV3LinearScalingRotaryEmbedding}
{\xe \v modeling_deepseek.DeepseekV3LinearScalingRotaryEmbedding\:_set_cos_sin_cache}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3LinearScalingRotaryEmbedding._set_cos_sin_cache (  {\i self},   {\i seq_len},   {\i device},   {\i dtype}){\f2 [protected]}}}
\par
{\bkmkstart AAAAAAAADV}
{\bkmkend AAAAAAAADV}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
{\s17\sa60\sb30\widctlpar\qj \fs22\cgrid 
{
\par
\pard\plain \s41\li360\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid Set the cosine and sine cache for the given sequence length.\par
\par
This method computes the cosine and sine values for a range of\par
frequencies based on the specified sequence length, device, and data\par
type. It first generates a tensor of time steps, scales it by a scaling\par
factor, and then computes the outer product with the inverse\par
frequencies. The resulting embeddings are concatenated and stored as\par
buffers for efficient retrieval during subsequent computations.\par
\par
Args:\par
    seq_len (int): The length of the sequence for which to cache cosine\par
        and sine values.\par
    device (torch.device): The device on which to allocate the tensors.\par
    dtype (torch.dtype): The data type for the cached tensors.\par
\par
Returns:\par
    None: This method does not return a value but modifies the internal\par
        state of the object by caching the computed cosine and sine values.\par
}
 \par
}{
Reimplemented from {\b modeling_deepseek.DeepseekV3RotaryEmbedding} ({\i p.{\field\fldedit {\*\fldinst PAGEREF AAAAAAAACH \\*MERGEFORMAT}{\fldrslt pagenum}}}).}\par
Here is the caller graph for this function:{
\pard\plain 
\par\pard \qc {\field\flddirty {\*\fldinst INCLUDEPICTURE "classmodeling__deepseek_1_1DeepseekV3LinearScalingRotaryEmbedding_a8e7b2346a4ecceac9140a465b2798e09_icgraph.svg" \\d \\*MERGEFORMAT}{\fldrslt IMAGE}}\par
}
}
{\pard\widctlpar\brdrb\brdrs\brdrw5\brsp20 \adjustright \par}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Member Data Documentation\par
\pard\plain 
{\xe \v max_seq_len_cached\:modeling_deepseek.DeepseekV3LinearScalingRotaryEmbedding}
{\xe \v modeling_deepseek.DeepseekV3LinearScalingRotaryEmbedding\:max_seq_len_cached}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3LinearScalingRotaryEmbedding.max_seq_len_cached}}
\par
{\bkmkstart AAAAAAAADW}
{\bkmkend AAAAAAAADW}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v scaling_factor\:modeling_deepseek.DeepseekV3LinearScalingRotaryEmbedding}
{\xe \v modeling_deepseek.DeepseekV3LinearScalingRotaryEmbedding\:scaling_factor}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3LinearScalingRotaryEmbedding.scaling_factor}}
\par
{\bkmkstart AAAAAAAADX}
{\bkmkend AAAAAAAADX}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\pard\widctlpar\brdrb\brdrs\brdrw5\brsp20 \adjustright \par}
The documentation for this class was generated from the following file:{\par
\pard\plain \s121\fi-360\li720\widctlpar\jclisttab\tx720{\*\pn \pnlvlbody\ilvl0\ls2\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
/tmp/github_repos_arch_doc_gen/sumansaurabh/deeseek-model-visualizer/{\b modeling_deepseek.py}\par
}\par \pard\plain 

\pard\plain \sect\sbkpage
\s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
\pard\plain \s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
modeling_deepseek.DeepseekV3MLP Class Reference\par \pard\plain 
{\tc\tcl2 \v modeling_deepseek.DeepseekV3MLP}
{\xe \v modeling_deepseek.DeepseekV3MLP}
{\bkmkstart AAAAAAAADY}
{\bkmkend AAAAAAAADY}
Inheritance diagram for modeling_deepseek.DeepseekV3MLP:{
\pard\plain 
\par\pard \qc {\field\flddirty {\*\fldinst INCLUDEPICTURE "classmodeling__deepseek_1_1DeepseekV3MLP__inherit__graph.svg" \\d \\*MERGEFORMAT}{\fldrslt IMAGE}}\par
}
\par
Collaboration diagram for modeling_deepseek.DeepseekV3MLP:{
\pard\plain 
\par\pard \qc {\field\flddirty {\*\fldinst INCLUDEPICTURE "classmodeling__deepseek_1_1DeepseekV3MLP__coll__graph.svg" \\d \\*MERGEFORMAT}{\fldrslt IMAGE}}\par
}
\par
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Public Member Functions\par
\pard\plain 

{
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b __init__} (self, {\b config}, {\b hidden_size}=None, {\b intermediate_size}=None)\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b forward} (self, x)\par
}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Public Attributes\par
\pard\plain 

{
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b config}\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b hidden_size}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b intermediate_size}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b gate_proj}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b up_proj}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b down_proj}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b act_fn}\par
}
{\pard\widctlpar\brdrb\brdrs\brdrw5\brsp20 \adjustright \par}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Constructor & Destructor Documentation\par
\pard\plain 
{\xe \v __init__\:modeling_deepseek.DeepseekV3MLP}
{\xe \v modeling_deepseek.DeepseekV3MLP\:__init__}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3MLP.__init__ (  {\i self},   {\i config},   {\i hidden_size} = {\f2 None},   {\i intermediate_size} = {\f2 None})}}
\par
{\bkmkstart AAAAAAAADZ}
{\bkmkend AAAAAAAADZ}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
Here is the call graph for this function:{
\pard\plain 
\par\pard \qc {\field\flddirty {\*\fldinst INCLUDEPICTURE "classmodeling__deepseek_1_1DeepseekV3MLP_ae9b26577d4b936f5b0385dfa5f4f467d_cgraph.svg" \\d \\*MERGEFORMAT}{\fldrslt IMAGE}}\par
}
Here is the caller graph for this function:{
\pard\plain 
\par\pard \qc {\field\flddirty {\*\fldinst INCLUDEPICTURE "classmodeling__deepseek_1_1DeepseekV3MLP_ae9b26577d4b936f5b0385dfa5f4f467d_icgraph.svg" \\d \\*MERGEFORMAT}{\fldrslt IMAGE}}\par
}
}
{\pard\widctlpar\brdrb\brdrs\brdrw5\brsp20 \adjustright \par}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Member Function Documentation\par
\pard\plain 
{\xe \v forward\:modeling_deepseek.DeepseekV3MLP}
{\xe \v modeling_deepseek.DeepseekV3MLP\:forward}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3MLP.forward (  {\i self},   {\i x})}}
\par
{\bkmkstart AAAAAAAAEA}
{\bkmkend AAAAAAAAEA}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
{\s17\sa60\sb30\widctlpar\qj \fs22\cgrid 
{
\par
\pard\plain \s41\li360\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid Forward pass through the neural network layer.\par
\par
This method computes the forward pass by applying a series of\par
transformations to the input tensor `x`. It first applies the gate\par
projection followed by an activation function, then multiplies the\par
result with the output of the upward projection. Finally, it applies the\par
downward projection to produce the final output.\par
\par
Args:\par
    x (Tensor): The input tensor to the layer.\par
\par
Returns:\par
    Tensor: The output tensor after applying the forward pass transformations.\par
}
 \par
}}
{\pard\widctlpar\brdrb\brdrs\brdrw5\brsp20 \adjustright \par}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Member Data Documentation\par
\pard\plain 
{\xe \v act_fn\:modeling_deepseek.DeepseekV3MLP}
{\xe \v modeling_deepseek.DeepseekV3MLP\:act_fn}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3MLP.act_fn}}
\par
{\bkmkstart AAAAAAAAEB}
{\bkmkend AAAAAAAAEB}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v config\:modeling_deepseek.DeepseekV3MLP}
{\xe \v modeling_deepseek.DeepseekV3MLP\:config}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3MLP.config}}
\par
{\bkmkstart AAAAAAAAEC}
{\bkmkend AAAAAAAAEC}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v down_proj\:modeling_deepseek.DeepseekV3MLP}
{\xe \v modeling_deepseek.DeepseekV3MLP\:down_proj}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3MLP.down_proj}}
\par
{\bkmkstart AAAAAAAAED}
{\bkmkend AAAAAAAAED}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v gate_proj\:modeling_deepseek.DeepseekV3MLP}
{\xe \v modeling_deepseek.DeepseekV3MLP\:gate_proj}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3MLP.gate_proj}}
\par
{\bkmkstart AAAAAAAAEE}
{\bkmkend AAAAAAAAEE}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v hidden_size\:modeling_deepseek.DeepseekV3MLP}
{\xe \v modeling_deepseek.DeepseekV3MLP\:hidden_size}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3MLP.hidden_size}}
\par
{\bkmkstart AAAAAAAAEF}
{\bkmkend AAAAAAAAEF}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v intermediate_size\:modeling_deepseek.DeepseekV3MLP}
{\xe \v modeling_deepseek.DeepseekV3MLP\:intermediate_size}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3MLP.intermediate_size}}
\par
{\bkmkstart AAAAAAAAEG}
{\bkmkend AAAAAAAAEG}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v up_proj\:modeling_deepseek.DeepseekV3MLP}
{\xe \v modeling_deepseek.DeepseekV3MLP\:up_proj}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3MLP.up_proj}}
\par
{\bkmkstart AAAAAAAAEH}
{\bkmkend AAAAAAAAEH}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\pard\widctlpar\brdrb\brdrs\brdrw5\brsp20 \adjustright \par}
The documentation for this class was generated from the following file:{\par
\pard\plain \s121\fi-360\li720\widctlpar\jclisttab\tx720{\*\pn \pnlvlbody\ilvl0\ls2\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
/tmp/github_repos_arch_doc_gen/sumansaurabh/deeseek-model-visualizer/{\b modeling_deepseek.py}\par
}\par \pard\plain 

\pard\plain \sect\sbkpage
\s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
\pard\plain \s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
modeling_deepseek.DeepseekV3Model Class Reference\par \pard\plain 
{\tc\tcl2 \v modeling_deepseek.DeepseekV3Model}
{\xe \v modeling_deepseek.DeepseekV3Model}
{\bkmkstart AAAAAAAAEI}
{\bkmkend AAAAAAAAEI}
Inheritance diagram for modeling_deepseek.DeepseekV3Model:{
\pard\plain 
\par\pard \qc {\field\flddirty {\*\fldinst INCLUDEPICTURE "classmodeling__deepseek_1_1DeepseekV3Model__inherit__graph.svg" \\d \\*MERGEFORMAT}{\fldrslt IMAGE}}\par
}
\par
Collaboration diagram for modeling_deepseek.DeepseekV3Model:{
\pard\plain 
\par\pard \qc {\field\flddirty {\*\fldinst INCLUDEPICTURE "classmodeling__deepseek_1_1DeepseekV3Model__coll__graph.svg" \\d \\*MERGEFORMAT}{\fldrslt IMAGE}}\par
}
\par
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Public Member Functions\par
\pard\plain 

{
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b __init__} (self, DeepseekV3Config config)\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b get_input_embeddings} (self)\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b set_input_embeddings} (self, value)\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
Union[Tuple, BaseModelOutputWithPast] {\b forward} (self, torch.LongTensor input_ids=None, Optional[torch.Tensor] attention_mask=None, Optional[torch.LongTensor] position_ids=None, Optional[List[torch.FloatTensor]] past_key_values=None, Optional[torch.FloatTensor] inputs_embeds=None, Optional[bool] use_cache=None, Optional[bool] output_attentions=None, Optional[bool] output_hidden_states=None, Optional[bool] return_dict=None)\par
}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Public Attributes\par
\pard\plain 

{
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b padding_idx}\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b vocab_size}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b embed_tokens}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b layers}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b norm}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b gradient_checkpointing}\par
}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Protected Attributes\par
\pard\plain 

{
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b _use_flash_attention_2}}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Additional Inherited Members\par
\pard\plain 
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid 
Static Public Attributes inherited from {\b modeling_deepseek.DeepseekV3PreTrainedModel}\par
\pard\plain 

{
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b config_class} = DeepseekV3Config\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
str {\b base_model_prefix} = "model"\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
bool {\b supports_gradient_checkpointing} = True\par
}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid 
Protected Member Functions inherited from {\b modeling_deepseek.DeepseekV3PreTrainedModel}\par
\pard\plain 

{
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b _init_weights} (self, module)\par
}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid 
Static Protected Attributes inherited from {\b modeling_deepseek.DeepseekV3PreTrainedModel}\par
\pard\plain 

{
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
list {\b _no_split_modules} = ["DeepseekV3DecoderLayer"]\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
str {\b _skip_keys_device_placement} = "past_key_values"\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
bool {\b _supports_flash_attn_2} = True\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
bool {\b _supports_cache_class} = True\par
}
{\pard\widctlpar\brdrb\brdrs\brdrw5\brsp20 \adjustright \par}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Detailed Description\par
\pard\plain 
{
\pard\plain \s17\sa60\sb30\widctlpar\qj \fs22\cgrid {\s17\sa60\sb30\widctlpar\qj \fs22\cgrid 
{
\par
\pard\plain \s40\li0\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid Transformer decoder consisting of *config.num_hidden_layers* layers. Each layer is a [`DeepseekV3DecoderLayer`]\par
Args:\par
    config: DeepseekV3Config\par
}
 \par
}}
{\pard\widctlpar\brdrb\brdrs\brdrw5\brsp20 \adjustright \par}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Constructor & Destructor Documentation\par
\pard\plain 
{\xe \v __init__\:modeling_deepseek.DeepseekV3Model}
{\xe \v modeling_deepseek.DeepseekV3Model\:__init__}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3Model.__init__ (  {\i self}, DeepseekV3Config  {\i config})}}
\par
{\bkmkstart AAAAAAAAEJ}
{\bkmkend AAAAAAAAEJ}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\pard\widctlpar\brdrb\brdrs\brdrw5\brsp20 \adjustright \par}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Member Function Documentation\par
\pard\plain 
{\xe \v forward\:modeling_deepseek.DeepseekV3Model}
{\xe \v modeling_deepseek.DeepseekV3Model\:forward}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
 Union[Tuple, BaseModelOutputWithPast] modeling_deepseek.DeepseekV3Model.forward (  {\i self}, torch.LongTensor   {\i input_ids} = {\f2 None}, Optional[torch.Tensor]   {\i attention_mask} = {\f2 None}, Optional[torch.LongTensor]   {\i position_ids} = {\f2 None}, Optional[List[torch.FloatTensor]]   {\i past_key_values} = {\f2 None}, Optional[torch.FloatTensor]   {\i inputs_embeds} = {\f2 None}, Optional[bool]   {\i use_cache} = {\f2 None}, Optional[bool]   {\i output_attentions} = {\f2 None}, Optional[bool]   {\i output_hidden_states} = {\f2 None}, Optional[bool]   {\i return_dict} = {\f2 None})}}
\par
{\bkmkstart AAAAAAAAEK}
{\bkmkend AAAAAAAAEK}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
{\s17\sa60\sb30\widctlpar\qj \fs22\cgrid 
{
\par
\pard\plain \s41\li360\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid Forward pass through the model.\par
\par
This method processes the input data through the model's layers,\par
applying attention mechanisms and returning the output. It can handle\par
various input formats and configurations, including caching previous key\par
values for efficiency. The function also manages the generation of\par
position IDs and attention masks as necessary.\par
\par
Args:\par
    input_ids (torch.LongTensor?): Tensor containing input token IDs.\par
    attention_mask (torch.Tensor?): Mask to avoid attending to padding tokens.\par
    position_ids (torch.LongTensor?): Tensor containing position IDs for the input tokens.\par
    past_key_values (List[torch.FloatTensor]?): Cached key values from previous decoder layers.\par
    inputs_embeds (torch.FloatTensor?): Tensor containing input embeddings.\par
    use_cache (bool?): Whether to use caching for the past key values.\par
    output_attentions (bool?): Whether to return attention weights.\par
    output_hidden_states (bool?): Whether to return hidden states from all layers.\par
    return_dict (bool?): Whether to return a dictionary instead of a tuple.\par
\par
Returns:\par
    Union[Tuple, BaseModelOutputWithPast]: The output of the model, which can include hidden states, attentions,\par
        and cached values, depending on the specified options.\par
\par
Raises:\par
    ValueError: If both input_ids and inputs_embeds are specified or if neither is\par
        provided.\par
}
 \par
}}
{\xe \v get_input_embeddings\:modeling_deepseek.DeepseekV3Model}
{\xe \v modeling_deepseek.DeepseekV3Model\:get_input_embeddings}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3Model.get_input_embeddings (  {\i self})}}
\par
{\bkmkstart AAAAAAAAEL}
{\bkmkend AAAAAAAAEL}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v set_input_embeddings\:modeling_deepseek.DeepseekV3Model}
{\xe \v modeling_deepseek.DeepseekV3Model\:set_input_embeddings}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3Model.set_input_embeddings (  {\i self},   {\i value})}}
\par
{\bkmkstart AAAAAAAAEM}
{\bkmkend AAAAAAAAEM}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\pard\widctlpar\brdrb\brdrs\brdrw5\brsp20 \adjustright \par}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Member Data Documentation\par
\pard\plain 
{\xe \v _use_flash_attention_2\:modeling_deepseek.DeepseekV3Model}
{\xe \v modeling_deepseek.DeepseekV3Model\:_use_flash_attention_2}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3Model._use_flash_attention_2{\f2 [protected]}}}
\par
{\bkmkstart AAAAAAAAEN}
{\bkmkend AAAAAAAAEN}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v embed_tokens\:modeling_deepseek.DeepseekV3Model}
{\xe \v modeling_deepseek.DeepseekV3Model\:embed_tokens}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3Model.embed_tokens}}
\par
{\bkmkstart AAAAAAAAEO}
{\bkmkend AAAAAAAAEO}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v gradient_checkpointing\:modeling_deepseek.DeepseekV3Model}
{\xe \v modeling_deepseek.DeepseekV3Model\:gradient_checkpointing}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3Model.gradient_checkpointing}}
\par
{\bkmkstart AAAAAAAAEP}
{\bkmkend AAAAAAAAEP}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v layers\:modeling_deepseek.DeepseekV3Model}
{\xe \v modeling_deepseek.DeepseekV3Model\:layers}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3Model.layers}}
\par
{\bkmkstart AAAAAAAAEQ}
{\bkmkend AAAAAAAAEQ}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v norm\:modeling_deepseek.DeepseekV3Model}
{\xe \v modeling_deepseek.DeepseekV3Model\:norm}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3Model.norm}}
\par
{\bkmkstart AAAAAAAAER}
{\bkmkend AAAAAAAAER}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v padding_idx\:modeling_deepseek.DeepseekV3Model}
{\xe \v modeling_deepseek.DeepseekV3Model\:padding_idx}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3Model.padding_idx}}
\par
{\bkmkstart AAAAAAAAES}
{\bkmkend AAAAAAAAES}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v vocab_size\:modeling_deepseek.DeepseekV3Model}
{\xe \v modeling_deepseek.DeepseekV3Model\:vocab_size}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3Model.vocab_size}}
\par
{\bkmkstart AAAAAAAAET}
{\bkmkend AAAAAAAAET}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\pard\widctlpar\brdrb\brdrs\brdrw5\brsp20 \adjustright \par}
The documentation for this class was generated from the following file:{\par
\pard\plain \s121\fi-360\li720\widctlpar\jclisttab\tx720{\*\pn \pnlvlbody\ilvl0\ls2\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
/tmp/github_repos_arch_doc_gen/sumansaurabh/deeseek-model-visualizer/{\b modeling_deepseek.py}\par
}\par \pard\plain 

\pard\plain \sect\sbkpage
\s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
\pard\plain \s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
modeling_deepseek.DeepseekV3MoE Class Reference\par \pard\plain 
{\tc\tcl2 \v modeling_deepseek.DeepseekV3MoE}
{\xe \v modeling_deepseek.DeepseekV3MoE}
{\bkmkstart AAAAAAAAEU}
{\bkmkend AAAAAAAAEU}
Inheritance diagram for modeling_deepseek.DeepseekV3MoE:{
\pard\plain 
\par\pard \qc {\field\flddirty {\*\fldinst INCLUDEPICTURE "classmodeling__deepseek_1_1DeepseekV3MoE__inherit__graph.svg" \\d \\*MERGEFORMAT}{\fldrslt IMAGE}}\par
}
\par
Collaboration diagram for modeling_deepseek.DeepseekV3MoE:{
\pard\plain 
\par\pard \qc {\field\flddirty {\*\fldinst INCLUDEPICTURE "classmodeling__deepseek_1_1DeepseekV3MoE__coll__graph.svg" \\d \\*MERGEFORMAT}{\fldrslt IMAGE}}\par
}
\par
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Public Member Functions\par
\pard\plain 

{
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b __init__} (self, {\b config})\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b forward} (self, hidden_states)\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b moe_infer} (self, x, topk_ids, topk_weight)\par
}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Public Attributes\par
\pard\plain 

{
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b config}\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b num_experts_per_tok}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b ep_size}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b experts_per_rank}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b ep_rank}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b experts}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b gate}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b shared_experts}\par
}
{\pard\widctlpar\brdrb\brdrs\brdrw5\brsp20 \adjustright \par}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Detailed Description\par
\pard\plain 
{
\pard\plain \s17\sa60\sb30\widctlpar\qj \fs22\cgrid {\s17\sa60\sb30\widctlpar\qj \fs22\cgrid 
{
\par
\pard\plain \s40\li0\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid A mixed expert module containing shared experts.\par
}
 \par
}}
{\pard\widctlpar\brdrb\brdrs\brdrw5\brsp20 \adjustright \par}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Constructor & Destructor Documentation\par
\pard\plain 
{\xe \v __init__\:modeling_deepseek.DeepseekV3MoE}
{\xe \v modeling_deepseek.DeepseekV3MoE\:__init__}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3MoE.__init__ (  {\i self},   {\i config})}}
\par
{\bkmkstart AAAAAAAAEV}
{\bkmkend AAAAAAAAEV}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
Here is the call graph for this function:{
\pard\plain 
\par\pard \qc {\field\flddirty {\*\fldinst INCLUDEPICTURE "classmodeling__deepseek_1_1DeepseekV3MoE_a96905b42a7ed512b23308776564909f2_cgraph.svg" \\d \\*MERGEFORMAT}{\fldrslt IMAGE}}\par
}
Here is the caller graph for this function:{
\pard\plain 
\par\pard \qc {\field\flddirty {\*\fldinst INCLUDEPICTURE "classmodeling__deepseek_1_1DeepseekV3MoE_a96905b42a7ed512b23308776564909f2_icgraph.svg" \\d \\*MERGEFORMAT}{\fldrslt IMAGE}}\par
}
}
{\pard\widctlpar\brdrb\brdrs\brdrw5\brsp20 \adjustright \par}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Member Function Documentation\par
\pard\plain 
{\xe \v forward\:modeling_deepseek.DeepseekV3MoE}
{\xe \v modeling_deepseek.DeepseekV3MoE\:forward}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3MoE.forward (  {\i self},   {\i hidden_states})}}
\par
{\bkmkstart AAAAAAAAEW}
{\bkmkend AAAAAAAAEW}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
{\s17\sa60\sb30\widctlpar\qj \fs22\cgrid 
{
\par
\pard\plain \s41\li360\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid Forward pass through the model using hidden states.\par
\par
This method processes the input hidden states by applying a gating\par
mechanism to select the top-k experts and their corresponding weights.\par
It reshapes the hidden states for further processing and, if not in\par
training mode, performs inference using the selected experts.\par
Additionally, if shared experts are configured, their output is added to\par
the result.\par
\par
Args:\par
    hidden_states (torch.Tensor): The input tensor containing hidden states\par
\par
Returns:\par
    torch.Tensor: The output tensor after applying the gating mechanism and\par
    any shared experts.\par
}
 \par
}Here is the call graph for this function:{
\pard\plain 
\par\pard \qc {\field\flddirty {\*\fldinst INCLUDEPICTURE "classmodeling__deepseek_1_1DeepseekV3MoE_a17e46f3082bc2c1cd4e74fe2ff2685c7_cgraph.svg" \\d \\*MERGEFORMAT}{\fldrslt IMAGE}}\par
}
}
{\xe \v moe_infer\:modeling_deepseek.DeepseekV3MoE}
{\xe \v modeling_deepseek.DeepseekV3MoE\:moe_infer}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3MoE.moe_infer (  {\i self},   {\i x},   {\i topk_ids},   {\i topk_weight})}}
\par
{\bkmkstart AAAAAAAAEX}
{\bkmkend AAAAAAAAEX}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
{\s17\sa60\sb30\widctlpar\qj \fs22\cgrid 
{
\par
\pard\plain \s41\li360\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid Perform model inference using a set of experts based on input tokens.\par
\par
This method takes input tokens and distributes them among a set of\par
experts for processing. It calculates the number of tokens assigned to\par
each expert and gathers the outputs from each expert after processing.\par
The function handles the distribution of tokens across multiple\par
processes if necessary, ensuring that the outputs are correctly gathered\par
and returned in the expected format.\par
\par
Args:\par
    x (torch.Tensor): The input tensor containing tokens to be processed.\par
    topk_ids (torch.Tensor): Indices of the top-k tokens for each expert.\par
    topk_weight (torch.Tensor): Weights associated with the top-k tokens.\par
\par
Returns:\par
    torch.Tensor: The final output tensor after processing by the experts,\par
    weighted by the top-k weights.\par
}
 \par
}Here is the caller graph for this function:{
\pard\plain 
\par\pard \qc {\field\flddirty {\*\fldinst INCLUDEPICTURE "classmodeling__deepseek_1_1DeepseekV3MoE_ae3d9e2c537bcb2df062cdff8328ba839_icgraph.svg" \\d \\*MERGEFORMAT}{\fldrslt IMAGE}}\par
}
}
{\pard\widctlpar\brdrb\brdrs\brdrw5\brsp20 \adjustright \par}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Member Data Documentation\par
\pard\plain 
{\xe \v config\:modeling_deepseek.DeepseekV3MoE}
{\xe \v modeling_deepseek.DeepseekV3MoE\:config}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3MoE.config}}
\par
{\bkmkstart AAAAAAAAEY}
{\bkmkend AAAAAAAAEY}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v ep_rank\:modeling_deepseek.DeepseekV3MoE}
{\xe \v modeling_deepseek.DeepseekV3MoE\:ep_rank}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3MoE.ep_rank}}
\par
{\bkmkstart AAAAAAAAEZ}
{\bkmkend AAAAAAAAEZ}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v ep_size\:modeling_deepseek.DeepseekV3MoE}
{\xe \v modeling_deepseek.DeepseekV3MoE\:ep_size}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3MoE.ep_size}}
\par
{\bkmkstart AAAAAAAAFA}
{\bkmkend AAAAAAAAFA}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v experts\:modeling_deepseek.DeepseekV3MoE}
{\xe \v modeling_deepseek.DeepseekV3MoE\:experts}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3MoE.experts}}
\par
{\bkmkstart AAAAAAAAFB}
{\bkmkend AAAAAAAAFB}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v experts_per_rank\:modeling_deepseek.DeepseekV3MoE}
{\xe \v modeling_deepseek.DeepseekV3MoE\:experts_per_rank}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3MoE.experts_per_rank}}
\par
{\bkmkstart AAAAAAAAFC}
{\bkmkend AAAAAAAAFC}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v gate\:modeling_deepseek.DeepseekV3MoE}
{\xe \v modeling_deepseek.DeepseekV3MoE\:gate}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3MoE.gate}}
\par
{\bkmkstart AAAAAAAAFD}
{\bkmkend AAAAAAAAFD}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v num_experts_per_tok\:modeling_deepseek.DeepseekV3MoE}
{\xe \v modeling_deepseek.DeepseekV3MoE\:num_experts_per_tok}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3MoE.num_experts_per_tok}}
\par
{\bkmkstart AAAAAAAAFE}
{\bkmkend AAAAAAAAFE}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v shared_experts\:modeling_deepseek.DeepseekV3MoE}
{\xe \v modeling_deepseek.DeepseekV3MoE\:shared_experts}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3MoE.shared_experts}}
\par
{\bkmkstart AAAAAAAAFF}
{\bkmkend AAAAAAAAFF}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\pard\widctlpar\brdrb\brdrs\brdrw5\brsp20 \adjustright \par}
The documentation for this class was generated from the following file:{\par
\pard\plain \s121\fi-360\li720\widctlpar\jclisttab\tx720{\*\pn \pnlvlbody\ilvl0\ls2\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
/tmp/github_repos_arch_doc_gen/sumansaurabh/deeseek-model-visualizer/{\b modeling_deepseek.py}\par
}\par \pard\plain 

\pard\plain \sect\sbkpage
\s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
\pard\plain \s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
modeling_deepseek.DeepseekV3PreTrainedModel Class Reference\par \pard\plain 
{\tc\tcl2 \v modeling_deepseek.DeepseekV3PreTrainedModel}
{\xe \v modeling_deepseek.DeepseekV3PreTrainedModel}
{\bkmkstart AAAAAAAAFG}
{\bkmkend AAAAAAAAFG}
Inheritance diagram for modeling_deepseek.DeepseekV3PreTrainedModel:{
\pard\plain 
\par\pard \qc {\field\flddirty {\*\fldinst INCLUDEPICTURE "classmodeling__deepseek_1_1DeepseekV3PreTrainedModel__inherit__graph.svg" \\d \\*MERGEFORMAT}{\fldrslt IMAGE}}\par
}
\par
Collaboration diagram for modeling_deepseek.DeepseekV3PreTrainedModel:{
\pard\plain 
\par\pard \qc {\field\flddirty {\*\fldinst INCLUDEPICTURE "classmodeling__deepseek_1_1DeepseekV3PreTrainedModel__coll__graph.svg" \\d \\*MERGEFORMAT}{\fldrslt IMAGE}}\par
}
\par
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Static Public Attributes\par
\pard\plain 

{
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b config_class} = DeepseekV3Config\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
str {\b base_model_prefix} = "model"\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
bool {\b supports_gradient_checkpointing} = True\par
}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Protected Member Functions\par
\pard\plain 

{
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b _init_weights} (self, module)\par
}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Static Protected Attributes\par
\pard\plain 

{
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
list {\b _no_split_modules} = ["DeepseekV3DecoderLayer"]\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
str {\b _skip_keys_device_placement} = "past_key_values"\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
bool {\b _supports_flash_attn_2} = True\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
bool {\b _supports_cache_class} = True\par
}
{\pard\widctlpar\brdrb\brdrs\brdrw5\brsp20 \adjustright \par}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Member Function Documentation\par
\pard\plain 
{\xe \v _init_weights\:modeling_deepseek.DeepseekV3PreTrainedModel}
{\xe \v modeling_deepseek.DeepseekV3PreTrainedModel\:_init_weights}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3PreTrainedModel._init_weights (  {\i self},   {\i module}){\f2 [protected]}}}
\par
{\bkmkstart AAAAAAAAFH}
{\bkmkend AAAAAAAAFH}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
{\s17\sa60\sb30\widctlpar\qj \fs22\cgrid 
{
\par
\pard\plain \s41\li360\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid Initialize weights for a given neural network module.\par
\par
This function initializes the weights of the specified module based on\par
the configuration's initializer range. It handles both linear layers and\par
embedding layers. For linear layers, it sets the weights to a normal\par
distribution with a mean of 0 and a specified standard deviation. If the\par
linear layer has a bias, it initializes the bias to zero. For embedding\par
layers, it also initializes the weights to a normal distribution and\par
sets the weight at the padding index to zero if a padding index is\par
specified.\par
\par
Args:\par
    module (nn.Module): The neural network module (either nn.Linear or nn.Embedding)\par
        whose weights are to be initialized.\par
\par
Returns:\par
    None: This function modifies the weights of the module in place and does not\par
        return a value.\par
}
 \par
}}
{\pard\widctlpar\brdrb\brdrs\brdrw5\brsp20 \adjustright \par}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Member Data Documentation\par
\pard\plain 
{\xe \v _no_split_modules\:modeling_deepseek.DeepseekV3PreTrainedModel}
{\xe \v modeling_deepseek.DeepseekV3PreTrainedModel\:_no_split_modules}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
list modeling_deepseek.DeepseekV3PreTrainedModel._no_split_modules = ["DeepseekV3DecoderLayer"]{\f2 [static]}, {\f2 [protected]}}}
\par
{\bkmkstart AAAAAAAAFI}
{\bkmkend AAAAAAAAFI}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v _skip_keys_device_placement\:modeling_deepseek.DeepseekV3PreTrainedModel}
{\xe \v modeling_deepseek.DeepseekV3PreTrainedModel\:_skip_keys_device_placement}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
str modeling_deepseek.DeepseekV3PreTrainedModel._skip_keys_device_placement = "past_key_values"{\f2 [static]}, {\f2 [protected]}}}
\par
{\bkmkstart AAAAAAAAFJ}
{\bkmkend AAAAAAAAFJ}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v _supports_cache_class\:modeling_deepseek.DeepseekV3PreTrainedModel}
{\xe \v modeling_deepseek.DeepseekV3PreTrainedModel\:_supports_cache_class}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
bool modeling_deepseek.DeepseekV3PreTrainedModel._supports_cache_class = True{\f2 [static]}, {\f2 [protected]}}}
\par
{\bkmkstart AAAAAAAAFK}
{\bkmkend AAAAAAAAFK}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v _supports_flash_attn_2\:modeling_deepseek.DeepseekV3PreTrainedModel}
{\xe \v modeling_deepseek.DeepseekV3PreTrainedModel\:_supports_flash_attn_2}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
bool modeling_deepseek.DeepseekV3PreTrainedModel._supports_flash_attn_2 = True{\f2 [static]}, {\f2 [protected]}}}
\par
{\bkmkstart AAAAAAAAFL}
{\bkmkend AAAAAAAAFL}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v base_model_prefix\:modeling_deepseek.DeepseekV3PreTrainedModel}
{\xe \v modeling_deepseek.DeepseekV3PreTrainedModel\:base_model_prefix}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
str modeling_deepseek.DeepseekV3PreTrainedModel.base_model_prefix = "model"{\f2 [static]}}}
\par
{\bkmkstart AAAAAAAAFM}
{\bkmkend AAAAAAAAFM}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v config_class\:modeling_deepseek.DeepseekV3PreTrainedModel}
{\xe \v modeling_deepseek.DeepseekV3PreTrainedModel\:config_class}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3PreTrainedModel.config_class = DeepseekV3Config{\f2 [static]}}}
\par
{\bkmkstart AAAAAAAAFN}
{\bkmkend AAAAAAAAFN}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v supports_gradient_checkpointing\:modeling_deepseek.DeepseekV3PreTrainedModel}
{\xe \v modeling_deepseek.DeepseekV3PreTrainedModel\:supports_gradient_checkpointing}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
bool modeling_deepseek.DeepseekV3PreTrainedModel.supports_gradient_checkpointing = True{\f2 [static]}}}
\par
{\bkmkstart AAAAAAAAFO}
{\bkmkend AAAAAAAAFO}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\pard\widctlpar\brdrb\brdrs\brdrw5\brsp20 \adjustright \par}
The documentation for this class was generated from the following file:{\par
\pard\plain \s121\fi-360\li720\widctlpar\jclisttab\tx720{\*\pn \pnlvlbody\ilvl0\ls2\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
/tmp/github_repos_arch_doc_gen/sumansaurabh/deeseek-model-visualizer/{\b modeling_deepseek.py}\par
}\par \pard\plain 

\pard\plain \sect\sbkpage
\s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
\pard\plain \s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
modeling_deepseek.DeepseekV3RMSNorm Class Reference\par \pard\plain 
{\tc\tcl2 \v modeling_deepseek.DeepseekV3RMSNorm}
{\xe \v modeling_deepseek.DeepseekV3RMSNorm}
{\bkmkstart AAAAAAAAFP}
{\bkmkend AAAAAAAAFP}
Inheritance diagram for modeling_deepseek.DeepseekV3RMSNorm:{
\pard\plain 
\par\pard \qc {\field\flddirty {\*\fldinst INCLUDEPICTURE "classmodeling__deepseek_1_1DeepseekV3RMSNorm__inherit__graph.svg" \\d \\*MERGEFORMAT}{\fldrslt IMAGE}}\par
}
\par
Collaboration diagram for modeling_deepseek.DeepseekV3RMSNorm:{
\pard\plain 
\par\pard \qc {\field\flddirty {\*\fldinst INCLUDEPICTURE "classmodeling__deepseek_1_1DeepseekV3RMSNorm__coll__graph.svg" \\d \\*MERGEFORMAT}{\fldrslt IMAGE}}\par
}
\par
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Public Member Functions\par
\pard\plain 

{
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b __init__} (self, hidden_size, eps=1e-6)\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b forward} (self, hidden_states)\par
}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Public Attributes\par
\pard\plain 

{
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b weight}\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b variance_epsilon}\par
}
{\pard\widctlpar\brdrb\brdrs\brdrw5\brsp20 \adjustright \par}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Constructor & Destructor Documentation\par
\pard\plain 
{\xe \v __init__\:modeling_deepseek.DeepseekV3RMSNorm}
{\xe \v modeling_deepseek.DeepseekV3RMSNorm\:__init__}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3RMSNorm.__init__ (  {\i self},   {\i hidden_size},   {\i eps} = {\f2 1e-6})}}
\par
{\bkmkstart AAAAAAAAFQ}
{\bkmkend AAAAAAAAFQ}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
{\s17\sa60\sb30\widctlpar\qj \fs22\cgrid 
{
\par
\pard\plain \s41\li360\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid DeepseekV3RMSNorm is equivalent to T5LayerNorm\par
}
 \par
}Here is the call graph for this function:{
\pard\plain 
\par\pard \qc {\field\flddirty {\*\fldinst INCLUDEPICTURE "classmodeling__deepseek_1_1DeepseekV3RMSNorm_af2508deb9797766a4044f127e7726f0f_cgraph.svg" \\d \\*MERGEFORMAT}{\fldrslt IMAGE}}\par
}
Here is the caller graph for this function:{
\pard\plain 
\par\pard \qc {\field\flddirty {\*\fldinst INCLUDEPICTURE "classmodeling__deepseek_1_1DeepseekV3RMSNorm_af2508deb9797766a4044f127e7726f0f_icgraph.svg" \\d \\*MERGEFORMAT}{\fldrslt IMAGE}}\par
}
}
{\pard\widctlpar\brdrb\brdrs\brdrw5\brsp20 \adjustright \par}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Member Function Documentation\par
\pard\plain 
{\xe \v forward\:modeling_deepseek.DeepseekV3RMSNorm}
{\xe \v modeling_deepseek.DeepseekV3RMSNorm\:forward}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3RMSNorm.forward (  {\i self},   {\i hidden_states})}}
\par
{\bkmkstart AAAAAAAAFR}
{\bkmkend AAAAAAAAFR}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
{\s17\sa60\sb30\widctlpar\qj \fs22\cgrid 
{
\par
\pard\plain \s41\li360\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid Apply forward transformation to hidden states.\par
\par
This function takes the hidden states as input, normalizes them by\par
calculating their variance, and scales them using a weight parameter.\par
The normalization is performed by converting the hidden states to a\par
float32 type, computing the variance, and then applying the inverse\par
square root of the variance (with a small epsilon added for numerical\par
stability). Finally, the function returns the scaled hidden states\par
converted back to their original data type.\par
\par
Args:\par
    hidden_states (torch.Tensor): A tensor representing the hidden states.\par
\par
Returns:\par
    torch.Tensor: The transformed hidden states after scaling.\par
}
 \par
}}
{\pard\widctlpar\brdrb\brdrs\brdrw5\brsp20 \adjustright \par}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Member Data Documentation\par
\pard\plain 
{\xe \v variance_epsilon\:modeling_deepseek.DeepseekV3RMSNorm}
{\xe \v modeling_deepseek.DeepseekV3RMSNorm\:variance_epsilon}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3RMSNorm.variance_epsilon}}
\par
{\bkmkstart AAAAAAAAFS}
{\bkmkend AAAAAAAAFS}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v weight\:modeling_deepseek.DeepseekV3RMSNorm}
{\xe \v modeling_deepseek.DeepseekV3RMSNorm\:weight}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3RMSNorm.weight}}
\par
{\bkmkstart AAAAAAAAFT}
{\bkmkend AAAAAAAAFT}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\pard\widctlpar\brdrb\brdrs\brdrw5\brsp20 \adjustright \par}
The documentation for this class was generated from the following file:{\par
\pard\plain \s121\fi-360\li720\widctlpar\jclisttab\tx720{\*\pn \pnlvlbody\ilvl0\ls2\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
/tmp/github_repos_arch_doc_gen/sumansaurabh/deeseek-model-visualizer/{\b modeling_deepseek.py}\par
}\par \pard\plain 

\pard\plain \sect\sbkpage
\s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
\pard\plain \s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
modeling_deepseek.DeepseekV3RotaryEmbedding Class Reference\par \pard\plain 
{\tc\tcl2 \v modeling_deepseek.DeepseekV3RotaryEmbedding}
{\xe \v modeling_deepseek.DeepseekV3RotaryEmbedding}
{\bkmkstart AAAAAAAAFU}
{\bkmkend AAAAAAAAFU}
Inheritance diagram for modeling_deepseek.DeepseekV3RotaryEmbedding:{
\pard\plain 
\par\pard \qc {\field\flddirty {\*\fldinst INCLUDEPICTURE "classmodeling__deepseek_1_1DeepseekV3RotaryEmbedding__inherit__graph.svg" \\d \\*MERGEFORMAT}{\fldrslt IMAGE}}\par
}
\par
Collaboration diagram for modeling_deepseek.DeepseekV3RotaryEmbedding:{
\pard\plain 
\par\pard \qc {\field\flddirty {\*\fldinst INCLUDEPICTURE "classmodeling__deepseek_1_1DeepseekV3RotaryEmbedding__coll__graph.svg" \\d \\*MERGEFORMAT}{\fldrslt IMAGE}}\par
}
\par
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Public Member Functions\par
\pard\plain 

{
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b __init__} (self, {\b dim}, {\b max_position_embeddings}=2048, {\b base}=10000, device=None)\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b forward} (self, x, seq_len=None)\par
}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Public Attributes\par
\pard\plain 

{
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b dim}\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b max_position_embeddings}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b base}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b max_seq_len_cached}\par
}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Protected Member Functions\par
\pard\plain 

{
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b _set_cos_sin_cache} (self, seq_len, device, dtype)\par
}
{\pard\widctlpar\brdrb\brdrs\brdrw5\brsp20 \adjustright \par}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Constructor & Destructor Documentation\par
\pard\plain 
{\xe \v __init__\:modeling_deepseek.DeepseekV3RotaryEmbedding}
{\xe \v modeling_deepseek.DeepseekV3RotaryEmbedding\:__init__}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3RotaryEmbedding.__init__ (  {\i self},   {\i dim},   {\i max_position_embeddings} = {\f2 2048},   {\i base} = {\f2 10000},   {\i device} = {\f2 None})}}
\par
{\bkmkstart AAAAAAAACF}
{\bkmkend AAAAAAAACF}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Reimplemented in {\b modeling_deepseek.DeepseekV3LinearScalingRotaryEmbedding} ({\i p.{\field\fldedit {\*\fldinst PAGEREF AAAAAAAADU \\*MERGEFORMAT}{\fldrslt pagenum}}}), {\b modeling_deepseek.DeepseekV3DynamicNTKScalingRotaryEmbedding} ({\i p.{\field\fldedit {\*\fldinst PAGEREF AAAAAAAACE \\*MERGEFORMAT}{\fldrslt pagenum}}}), and {\b modeling_deepseek.DeepseekV3YarnRotaryEmbedding} ({\i p.{\field\fldedit {\*\fldinst PAGEREF AAAAAAAAFV \\*MERGEFORMAT}{\fldrslt pagenum}}}).}\par
Here is the call graph for this function:{
\pard\plain 
\par\pard \qc {\field\flddirty {\*\fldinst INCLUDEPICTURE "classmodeling__deepseek_1_1DeepseekV3RotaryEmbedding_af854f8ee2ae1c1b1ee3cbb3a79f6aeff_cgraph.svg" \\d \\*MERGEFORMAT}{\fldrslt IMAGE}}\par
}
Here is the caller graph for this function:{
\pard\plain 
\par\pard \qc {\field\flddirty {\*\fldinst INCLUDEPICTURE "classmodeling__deepseek_1_1DeepseekV3RotaryEmbedding_af854f8ee2ae1c1b1ee3cbb3a79f6aeff_icgraph.svg" \\d \\*MERGEFORMAT}{\fldrslt IMAGE}}\par
}
}
{\pard\widctlpar\brdrb\brdrs\brdrw5\brsp20 \adjustright \par}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Member Function Documentation\par
\pard\plain 
{\xe \v _set_cos_sin_cache\:modeling_deepseek.DeepseekV3RotaryEmbedding}
{\xe \v modeling_deepseek.DeepseekV3RotaryEmbedding\:_set_cos_sin_cache}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3RotaryEmbedding._set_cos_sin_cache (  {\i self},   {\i seq_len},   {\i device},   {\i dtype}){\f2 [protected]}}}
\par
{\bkmkstart AAAAAAAACH}
{\bkmkend AAAAAAAACH}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
{\s17\sa60\sb30\widctlpar\qj \fs22\cgrid 
{
\par
\pard\plain \s41\li360\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid Set the cosine and sine cache for positional embeddings.\par
\par
This method computes the cosine and sine values for a given sequence\par
length and stores them in buffers. It first creates a tensor of values\par
based on the sequence length and then calculates the outer product with\par
the inverse frequency. The resulting tensor is then processed to obtain\par
the cosine and sine values, which are stored as non-persistent buffers\par
for efficient retrieval during subsequent operations.\par
\par
Args:\par
    seq_len (int): The length of the sequence for which to cache cosine and sine values.\par
    device (torch.device): The device on which to create the tensors (e.g., CPU or GPU).\par
    dtype (torch.dtype): The data type of the tensors to be created.\par
\par
Returns:\par
    None: This method does not return any value, but it modifies the internal\par
        state\par
    of the object by caching the computed cosine and sine values.\par
}
 \par
}{
Reimplemented in {\b modeling_deepseek.DeepseekV3LinearScalingRotaryEmbedding} ({\i p.{\field\fldedit {\*\fldinst PAGEREF AAAAAAAADV \\*MERGEFORMAT}{\fldrslt pagenum}}}), {\b modeling_deepseek.DeepseekV3DynamicNTKScalingRotaryEmbedding} ({\i p.{\field\fldedit {\*\fldinst PAGEREF AAAAAAAACG \\*MERGEFORMAT}{\fldrslt pagenum}}}), and {\b modeling_deepseek.DeepseekV3YarnRotaryEmbedding} ({\i p.{\field\fldedit {\*\fldinst PAGEREF AAAAAAAAFW \\*MERGEFORMAT}{\fldrslt pagenum}}}).}\par
Here is the caller graph for this function:{
\pard\plain 
\par\pard \qc {\field\flddirty {\*\fldinst INCLUDEPICTURE "classmodeling__deepseek_1_1DeepseekV3RotaryEmbedding_ae01ef97644accdcf3fe2fe1b1aef2ca2_icgraph.svg" \\d \\*MERGEFORMAT}{\fldrslt IMAGE}}\par
}
}
{\xe \v forward\:modeling_deepseek.DeepseekV3RotaryEmbedding}
{\xe \v modeling_deepseek.DeepseekV3RotaryEmbedding\:forward}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3RotaryEmbedding.forward (  {\i self},   {\i x},   {\i seq_len} = {\f2 None})}}
\par
{\bkmkstart AAAAAAAAFX}
{\bkmkend AAAAAAAAFX}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
{\s17\sa60\sb30\widctlpar\qj \fs22\cgrid 
{
\par
\pard\plain \s41\li360\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid Compute the forward pass for the attention mechanism.\par
\par
This method calculates the cosine and sine values used in the attention\par
mechanism based on the input tensor. If the sequence length exceeds the\par
cached maximum sequence length, it updates the cosine and sine cache\par
accordingly. The method returns the cached cosine and sine values for\par
the specified sequence length.\par
\par
Args:\par
    x (Tensor): Input tensor of shape [bs, num_attention_heads, seq_len, head_size].\par
    seq_len (int?): The sequence length to compute the cosine and sine values for.\par
        If not provided, defaults to None.\par
\par
Returns:\par
    Tuple[Tensor, Tensor]: A tuple containing the cached cosine and sine tensors\par
        for the specified sequence length.\par
}
 \par
}Here is the call graph for this function:{
\pard\plain 
\par\pard \qc {\field\flddirty {\*\fldinst INCLUDEPICTURE "classmodeling__deepseek_1_1DeepseekV3RotaryEmbedding_af3522f95c36edff62dcdf56d23ad6bfc_cgraph.svg" \\d \\*MERGEFORMAT}{\fldrslt IMAGE}}\par
}
}
{\pard\widctlpar\brdrb\brdrs\brdrw5\brsp20 \adjustright \par}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Member Data Documentation\par
\pard\plain 
{\xe \v base\:modeling_deepseek.DeepseekV3RotaryEmbedding}
{\xe \v modeling_deepseek.DeepseekV3RotaryEmbedding\:base}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3RotaryEmbedding.base}}
\par
{\bkmkstart AAAAAAAAFY}
{\bkmkend AAAAAAAAFY}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v dim\:modeling_deepseek.DeepseekV3RotaryEmbedding}
{\xe \v modeling_deepseek.DeepseekV3RotaryEmbedding\:dim}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3RotaryEmbedding.dim}}
\par
{\bkmkstart AAAAAAAAFZ}
{\bkmkend AAAAAAAAFZ}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v max_position_embeddings\:modeling_deepseek.DeepseekV3RotaryEmbedding}
{\xe \v modeling_deepseek.DeepseekV3RotaryEmbedding\:max_position_embeddings}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3RotaryEmbedding.max_position_embeddings}}
\par
{\bkmkstart AAAAAAAAGA}
{\bkmkend AAAAAAAAGA}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v max_seq_len_cached\:modeling_deepseek.DeepseekV3RotaryEmbedding}
{\xe \v modeling_deepseek.DeepseekV3RotaryEmbedding\:max_seq_len_cached}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3RotaryEmbedding.max_seq_len_cached}}
\par
{\bkmkstart AAAAAAAAGB}
{\bkmkend AAAAAAAAGB}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\pard\widctlpar\brdrb\brdrs\brdrw5\brsp20 \adjustright \par}
The documentation for this class was generated from the following file:{\par
\pard\plain \s121\fi-360\li720\widctlpar\jclisttab\tx720{\*\pn \pnlvlbody\ilvl0\ls2\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
/tmp/github_repos_arch_doc_gen/sumansaurabh/deeseek-model-visualizer/{\b modeling_deepseek.py}\par
}\par \pard\plain 

\pard\plain \sect\sbkpage
\s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
\pard\plain \s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
modeling_deepseek.DeepseekV3YarnRotaryEmbedding Class Reference\par \pard\plain 
{\tc\tcl2 \v modeling_deepseek.DeepseekV3YarnRotaryEmbedding}
{\xe \v modeling_deepseek.DeepseekV3YarnRotaryEmbedding}
{\bkmkstart AAAAAAAAGC}
{\bkmkend AAAAAAAAGC}
Inheritance diagram for modeling_deepseek.DeepseekV3YarnRotaryEmbedding:{
\pard\plain 
\par\pard \qc {\field\flddirty {\*\fldinst INCLUDEPICTURE "classmodeling__deepseek_1_1DeepseekV3YarnRotaryEmbedding__inherit__graph.svg" \\d \\*MERGEFORMAT}{\fldrslt IMAGE}}\par
}
\par
Collaboration diagram for modeling_deepseek.DeepseekV3YarnRotaryEmbedding:{
\pard\plain 
\par\pard \qc {\field\flddirty {\*\fldinst INCLUDEPICTURE "classmodeling__deepseek_1_1DeepseekV3YarnRotaryEmbedding__coll__graph.svg" \\d \\*MERGEFORMAT}{\fldrslt IMAGE}}\par
}
\par
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Public Member Functions\par
\pard\plain 

{
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b __init__} (self, {\b dim}, {\b max_position_embeddings}=2048, {\b base}=10000, device=None, {\b scaling_factor}=1.0, {\b original_max_position_embeddings}=4096, {\b beta_fast}=32, {\b beta_slow}=1, {\b mscale}=1, {\b mscale_all_dim}=0)\par
}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid 
Public Member Functions inherited from {\b modeling_deepseek.DeepseekV3RotaryEmbedding}\par
\pard\plain 

{
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b forward} (self, x, seq_len=None)\par
}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Public Attributes\par
\pard\plain 

{
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b scaling_factor}\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b original_max_position_embeddings}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b beta_fast}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b beta_slow}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b mscale}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b mscale_all_dim}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b max_seq_len_cached}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b base}\par
}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid 
Public Attributes inherited from {\b modeling_deepseek.DeepseekV3RotaryEmbedding}\par
\pard\plain 

{
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b dim}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b max_position_embeddings}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b base}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b max_seq_len_cached}\par
}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Protected Member Functions\par
\pard\plain 

{
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b _set_cos_sin_cache} (self, seq_len, device, dtype)\par
}
{\pard\widctlpar\brdrb\brdrs\brdrw5\brsp20 \adjustright \par}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Constructor & Destructor Documentation\par
\pard\plain 
{\xe \v __init__\:modeling_deepseek.DeepseekV3YarnRotaryEmbedding}
{\xe \v modeling_deepseek.DeepseekV3YarnRotaryEmbedding\:__init__}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3YarnRotaryEmbedding.__init__ (  {\i self},   {\i dim},   {\i max_position_embeddings} = {\f2 2048},   {\i base} = {\f2 10000},   {\i device} = {\f2 None},   {\i scaling_factor} = {\f2 1.0},   {\i original_max_position_embeddings} = {\f2 4096},   {\i beta_fast} = {\f2 32},   {\i beta_slow} = {\f2 1},   {\i mscale} = {\f2 1},   {\i mscale_all_dim} = {\f2 0})}}
\par
{\bkmkstart AAAAAAAAFV}
{\bkmkend AAAAAAAAFV}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
Reimplemented from {\b modeling_deepseek.DeepseekV3RotaryEmbedding} ({\i p.{\field\fldedit {\*\fldinst PAGEREF AAAAAAAACF \\*MERGEFORMAT}{\fldrslt pagenum}}}).}\par
}
{\pard\widctlpar\brdrb\brdrs\brdrw5\brsp20 \adjustright \par}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Member Function Documentation\par
\pard\plain 
{\xe \v _set_cos_sin_cache\:modeling_deepseek.DeepseekV3YarnRotaryEmbedding}
{\xe \v modeling_deepseek.DeepseekV3YarnRotaryEmbedding\:_set_cos_sin_cache}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3YarnRotaryEmbedding._set_cos_sin_cache (  {\i self},   {\i seq_len},   {\i device},   {\i dtype}){\f2 [protected]}}}
\par
{\bkmkstart AAAAAAAAFW}
{\bkmkend AAAAAAAAFW}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
{\s17\sa60\sb30\widctlpar\qj \fs22\cgrid 
{
\par
\pard\plain \s41\li360\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid Set the cosine and sine cache for positional encodings.\par
\par
This method computes and caches the cosine and sine values used in\par
positional encodings based on the given sequence length, device, and\par
data type. It calculates the inverse frequency for the positional\par
encodings, applies a correction range, and registers the resulting\par
cosine and sine values as buffers for efficient retrieval during model\par
inference.\par
\par
Args:\par
    seq_len (int): The length of the sequence for which to cache\par
        the cosine and sine values.\par
    device (torch.device): The device on which to store the tensors.\par
    dtype (torch.dtype): The data type of the tensors to be used.\par
\par
Returns:\par
    None: This function does not return a value but modifies the\par
        internal state of the object by caching the computed values.\par
}
 \par
}{
Reimplemented from {\b modeling_deepseek.DeepseekV3RotaryEmbedding} ({\i p.{\field\fldedit {\*\fldinst PAGEREF AAAAAAAACH \\*MERGEFORMAT}{\fldrslt pagenum}}}).}\par
Here is the caller graph for this function:{
\pard\plain 
\par\pard \qc {\field\flddirty {\*\fldinst INCLUDEPICTURE "classmodeling__deepseek_1_1DeepseekV3YarnRotaryEmbedding_a6f5c4d2f0bb03b152f6c4a6a6045f8ad_icgraph.svg" \\d \\*MERGEFORMAT}{\fldrslt IMAGE}}\par
}
}
{\pard\widctlpar\brdrb\brdrs\brdrw5\brsp20 \adjustright \par}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Member Data Documentation\par
\pard\plain 
{\xe \v base\:modeling_deepseek.DeepseekV3YarnRotaryEmbedding}
{\xe \v modeling_deepseek.DeepseekV3YarnRotaryEmbedding\:base}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3YarnRotaryEmbedding.base}}
\par
{\bkmkstart AAAAAAAAGD}
{\bkmkend AAAAAAAAGD}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v beta_fast\:modeling_deepseek.DeepseekV3YarnRotaryEmbedding}
{\xe \v modeling_deepseek.DeepseekV3YarnRotaryEmbedding\:beta_fast}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3YarnRotaryEmbedding.beta_fast}}
\par
{\bkmkstart AAAAAAAAGE}
{\bkmkend AAAAAAAAGE}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v beta_slow\:modeling_deepseek.DeepseekV3YarnRotaryEmbedding}
{\xe \v modeling_deepseek.DeepseekV3YarnRotaryEmbedding\:beta_slow}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3YarnRotaryEmbedding.beta_slow}}
\par
{\bkmkstart AAAAAAAAGF}
{\bkmkend AAAAAAAAGF}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v max_seq_len_cached\:modeling_deepseek.DeepseekV3YarnRotaryEmbedding}
{\xe \v modeling_deepseek.DeepseekV3YarnRotaryEmbedding\:max_seq_len_cached}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3YarnRotaryEmbedding.max_seq_len_cached}}
\par
{\bkmkstart AAAAAAAAGG}
{\bkmkend AAAAAAAAGG}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v mscale\:modeling_deepseek.DeepseekV3YarnRotaryEmbedding}
{\xe \v modeling_deepseek.DeepseekV3YarnRotaryEmbedding\:mscale}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3YarnRotaryEmbedding.mscale}}
\par
{\bkmkstart AAAAAAAAGH}
{\bkmkend AAAAAAAAGH}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v mscale_all_dim\:modeling_deepseek.DeepseekV3YarnRotaryEmbedding}
{\xe \v modeling_deepseek.DeepseekV3YarnRotaryEmbedding\:mscale_all_dim}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3YarnRotaryEmbedding.mscale_all_dim}}
\par
{\bkmkstart AAAAAAAAGI}
{\bkmkend AAAAAAAAGI}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v original_max_position_embeddings\:modeling_deepseek.DeepseekV3YarnRotaryEmbedding}
{\xe \v modeling_deepseek.DeepseekV3YarnRotaryEmbedding\:original_max_position_embeddings}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3YarnRotaryEmbedding.original_max_position_embeddings}}
\par
{\bkmkstart AAAAAAAAGJ}
{\bkmkend AAAAAAAAGJ}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v scaling_factor\:modeling_deepseek.DeepseekV3YarnRotaryEmbedding}
{\xe \v modeling_deepseek.DeepseekV3YarnRotaryEmbedding\:scaling_factor}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.DeepseekV3YarnRotaryEmbedding.scaling_factor}}
\par
{\bkmkstart AAAAAAAAGK}
{\bkmkend AAAAAAAAGK}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\pard\widctlpar\brdrb\brdrs\brdrw5\brsp20 \adjustright \par}
The documentation for this class was generated from the following file:{\par
\pard\plain \s121\fi-360\li720\widctlpar\jclisttab\tx720{\*\pn \pnlvlbody\ilvl0\ls2\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
/tmp/github_repos_arch_doc_gen/sumansaurabh/deeseek-model-visualizer/{\b modeling_deepseek.py}\par
}\par \pard\plain 

\pard\plain \sect\sbkpage
\s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
\pard\plain \s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
modeling_deepseek.MoEGate Class Reference\par \pard\plain 
{\tc\tcl2 \v modeling_deepseek.MoEGate}
{\xe \v modeling_deepseek.MoEGate}
{\bkmkstart AAAAAAAAGL}
{\bkmkend AAAAAAAAGL}
Inheritance diagram for modeling_deepseek.MoEGate:{
\pard\plain 
\par\pard \qc {\field\flddirty {\*\fldinst INCLUDEPICTURE "classmodeling__deepseek_1_1MoEGate__inherit__graph.svg" \\d \\*MERGEFORMAT}{\fldrslt IMAGE}}\par
}
\par
Collaboration diagram for modeling_deepseek.MoEGate:{
\pard\plain 
\par\pard \qc {\field\flddirty {\*\fldinst INCLUDEPICTURE "classmodeling__deepseek_1_1MoEGate__coll__graph.svg" \\d \\*MERGEFORMAT}{\fldrslt IMAGE}}\par
}
\par
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Public Member Functions\par
\pard\plain 

{
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b __init__} (self, {\b config})\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
None {\b reset_parameters} (self)\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b forward} (self, hidden_states)\par
}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Public Attributes\par
\pard\plain 

{
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b config}\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b top_k}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b n_routed_experts}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b routed_scaling_factor}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b scoring_func}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b seq_aux}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b topk_method}\par
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid {\i {\s17\sa60\sb30\widctlpar\qj \fs22\cgrid 
select top-k experts }{
}\par
}\par}
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b n_group}\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b topk_group}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b norm_topk_prob}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b gating_dim}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b weight}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b e_score_correction_bias}\par
}
{\pard\widctlpar\brdrb\brdrs\brdrw5\brsp20 \adjustright \par}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Constructor & Destructor Documentation\par
\pard\plain 
{\xe \v __init__\:modeling_deepseek.MoEGate}
{\xe \v modeling_deepseek.MoEGate\:__init__}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.MoEGate.__init__ (  {\i self},   {\i config})}}
\par
{\bkmkstart AAAAAAAAGM}
{\bkmkend AAAAAAAAGM}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
Here is the call graph for this function:{
\pard\plain 
\par\pard \qc {\field\flddirty {\*\fldinst INCLUDEPICTURE "classmodeling__deepseek_1_1MoEGate_ac50ed7ab225f5cff4ae21ddf15de0cd5_cgraph.svg" \\d \\*MERGEFORMAT}{\fldrslt IMAGE}}\par
}
Here is the caller graph for this function:{
\pard\plain 
\par\pard \qc {\field\flddirty {\*\fldinst INCLUDEPICTURE "classmodeling__deepseek_1_1MoEGate_ac50ed7ab225f5cff4ae21ddf15de0cd5_icgraph.svg" \\d \\*MERGEFORMAT}{\fldrslt IMAGE}}\par
}
}
{\pard\widctlpar\brdrb\brdrs\brdrw5\brsp20 \adjustright \par}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Member Function Documentation\par
\pard\plain 
{\xe \v forward\:modeling_deepseek.MoEGate}
{\xe \v modeling_deepseek.MoEGate\:forward}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.MoEGate.forward (  {\i self},   {\i hidden_states})}}
\par
{\bkmkstart AAAAAAAAGN}
{\bkmkend AAAAAAAAGN}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
{\s17\sa60\sb30\widctlpar\qj \fs22\cgrid 
{
\par
\pard\plain \s41\li360\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid Forward pass for the gating mechanism in a mixture of experts model.\par
\par
This method computes the gating scores based on the provided hidden\par
states. It reshapes the hidden states and applies a linear\par
transformation to obtain logits. Depending on the specified scoring\par
function, it calculates the scores using either a sigmoid function or\par
raises an error if the scoring function is unsupported. The method then\par
selects the top-k experts based on the computed scores and applies a\par
normalization step if required. Finally, it returns the indices of the\par
top-k experts and their corresponding weights.\par
\par
Args:\par
    hidden_states (torch.Tensor): A tensor of shape (batch_size, sequence_length, hidden_dim)\par
        representing the hidden states from the previous layer.\par
\par
Returns:\par
    tuple: A tuple containing:\par
        - topk_idx (torch.Tensor): Indices of the selected top-k experts.\par
        - topk_weight (torch.Tensor): Weights corresponding to the selected\par
        top-k experts.\par
\par
Raises:\par
    NotImplementedError: If an unsupported scoring function or top-k method is specified.\par
}
 \par
}}
{\xe \v reset_parameters\:modeling_deepseek.MoEGate}
{\xe \v modeling_deepseek.MoEGate\:reset_parameters}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
 None modeling_deepseek.MoEGate.reset_parameters (  {\i self})}}
\par
{\bkmkstart AAAAAAAAGO}
{\bkmkend AAAAAAAAGO}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
{\s17\sa60\sb30\widctlpar\qj \fs22\cgrid 
{
\par
\pard\plain \s41\li360\widctlpar\adjustright \shading1000\cbpat8 \f2\fs16\cgrid Reset the parameters of the model's weight using Kaiming uniform\par
initialization.\par
\par
This function applies Kaiming uniform initialization to the model's\par
weight parameter. Kaiming initialization is designed to keep the\par
variance of activations across layers in a neural network stable, which\par
can help improve training performance.\par
\par
Returns:\par
    None: This function does not return any value.\par
}
 \par
}}
{\pard\widctlpar\brdrb\brdrs\brdrw5\brsp20 \adjustright \par}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Member Data Documentation\par
\pard\plain 
{\xe \v config\:modeling_deepseek.MoEGate}
{\xe \v modeling_deepseek.MoEGate\:config}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.MoEGate.config}}
\par
{\bkmkstart AAAAAAAAGP}
{\bkmkend AAAAAAAAGP}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v e_score_correction_bias\:modeling_deepseek.MoEGate}
{\xe \v modeling_deepseek.MoEGate\:e_score_correction_bias}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.MoEGate.e_score_correction_bias}}
\par
{\bkmkstart AAAAAAAAGQ}
{\bkmkend AAAAAAAAGQ}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v gating_dim\:modeling_deepseek.MoEGate}
{\xe \v modeling_deepseek.MoEGate\:gating_dim}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.MoEGate.gating_dim}}
\par
{\bkmkstart AAAAAAAAGR}
{\bkmkend AAAAAAAAGR}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v n_group\:modeling_deepseek.MoEGate}
{\xe \v modeling_deepseek.MoEGate\:n_group}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.MoEGate.n_group}}
\par
{\bkmkstart AAAAAAAAGS}
{\bkmkend AAAAAAAAGS}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v n_routed_experts\:modeling_deepseek.MoEGate}
{\xe \v modeling_deepseek.MoEGate\:n_routed_experts}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.MoEGate.n_routed_experts}}
\par
{\bkmkstart AAAAAAAAGT}
{\bkmkend AAAAAAAAGT}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v norm_topk_prob\:modeling_deepseek.MoEGate}
{\xe \v modeling_deepseek.MoEGate\:norm_topk_prob}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.MoEGate.norm_topk_prob}}
\par
{\bkmkstart AAAAAAAAGU}
{\bkmkend AAAAAAAAGU}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v routed_scaling_factor\:modeling_deepseek.MoEGate}
{\xe \v modeling_deepseek.MoEGate\:routed_scaling_factor}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.MoEGate.routed_scaling_factor}}
\par
{\bkmkstart AAAAAAAAGV}
{\bkmkend AAAAAAAAGV}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v scoring_func\:modeling_deepseek.MoEGate}
{\xe \v modeling_deepseek.MoEGate\:scoring_func}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.MoEGate.scoring_func}}
\par
{\bkmkstart AAAAAAAAGW}
{\bkmkend AAAAAAAAGW}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v seq_aux\:modeling_deepseek.MoEGate}
{\xe \v modeling_deepseek.MoEGate\:seq_aux}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.MoEGate.seq_aux}}
\par
{\bkmkstart AAAAAAAAGX}
{\bkmkend AAAAAAAAGX}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v top_k\:modeling_deepseek.MoEGate}
{\xe \v modeling_deepseek.MoEGate\:top_k}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.MoEGate.top_k}}
\par
{\bkmkstart AAAAAAAAGY}
{\bkmkend AAAAAAAAGY}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v topk_group\:modeling_deepseek.MoEGate}
{\xe \v modeling_deepseek.MoEGate\:topk_group}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.MoEGate.topk_group}}
\par
{\bkmkstart AAAAAAAAGZ}
{\bkmkend AAAAAAAAGZ}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\xe \v topk_method\:modeling_deepseek.MoEGate}
{\xe \v modeling_deepseek.MoEGate\:topk_method}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.MoEGate.topk_method}}
\par
{\bkmkstart AAAAAAAAHA}
{\bkmkend AAAAAAAAHA}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
\par
{
{\s17\sa60\sb30\widctlpar\qj \fs22\cgrid 
select top-k experts }}\par
}
{\xe \v weight\:modeling_deepseek.MoEGate}
{\xe \v modeling_deepseek.MoEGate\:weight}
\pard\plain \s4\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs20\cgrid {
{\b 
modeling_deepseek.MoEGate.weight}}
\par
{\bkmkstart AAAAAAAAHB}
{\bkmkend AAAAAAAAHB}
{
\pard\plain \s61\li360\sa60\sb30\qj\widctlpar\qj\adjustright \fs20\cgrid 
}
{\pard\widctlpar\brdrb\brdrs\brdrw5\brsp20 \adjustright \par}
The documentation for this class was generated from the following file:{\par
\pard\plain \s121\fi-360\li720\widctlpar\jclisttab\tx720{\*\pn \pnlvlbody\ilvl0\ls2\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
/tmp/github_repos_arch_doc_gen/sumansaurabh/deeseek-model-visualizer/{\b modeling_deepseek.py}\par
}
\pard\plain \sect\sbkpage
\s1\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs36\kerning36\cgrid 
File Documentation{\tc \v File Documentation}
\par \pard\plain 
\pard\plain \s2\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs28\kerning28\cgrid 
/tmp/github_repos_arch_doc_gen/sumansaurabh/deeseek-model-visualizer/modeling_deepseek.py File Reference\par \pard\plain 
{\tc\tcl2 \v /tmp/github_repos_arch_doc_gen/sumansaurabh/deeseek-model-visualizer/modeling_deepseek.py}
{\xe \v /tmp/github_repos_arch_doc_gen/sumansaurabh/deeseek-model-visualizer/modeling_deepseek.py}
{\bkmkstart AAAAAAAAAA}
{\bkmkend AAAAAAAAAA}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Classes\par
\pard\plain 

{
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
class {\b modeling_deepseek.DeepseekV3RMSNorm}\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
class {\b modeling_deepseek.DeepseekV3RotaryEmbedding}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
class {\b modeling_deepseek.DeepseekV3LinearScalingRotaryEmbedding}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
class {\b modeling_deepseek.DeepseekV3DynamicNTKScalingRotaryEmbedding}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
class {\b modeling_deepseek.DeepseekV3YarnRotaryEmbedding}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
class {\b modeling_deepseek.DeepseekV3MLP}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
class {\b modeling_deepseek.MoEGate}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
class {\b modeling_deepseek.DeepseekV3MoE}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
class {\b modeling_deepseek.DeepseekV3Attention}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
class {\b modeling_deepseek.DeepseekV3FlashAttention2}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
class {\b modeling_deepseek.DeepseekV3DecoderLayer}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
class {\b modeling_deepseek.DeepseekV3PreTrainedModel}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
class {\b modeling_deepseek.DeepseekV3Model}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
class {\b modeling_deepseek.DeepseekV3ForCausalLM}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
class {\b modeling_deepseek.DeepseekV3ForSequenceClassification}\par
}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Namespaces\par
\pard\plain 

{
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
namespace {\b modeling_deepseek}\par
}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Functions\par
\pard\plain 

{
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b modeling_deepseek._get_unpad_data} (attention_mask)\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b modeling_deepseek.yarn_find_correction_dim} (num_rotations, dim, base=10000, max_position_embeddings=2048)\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b modeling_deepseek.yarn_find_correction_range} (low_rot, high_rot, dim, base=10000, max_position_embeddings=2048)\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b modeling_deepseek.yarn_get_mscale} (scale=1, mscale=1)\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b modeling_deepseek.yarn_linear_ramp_mask} (min, max, dim)\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b modeling_deepseek.rotate_half} (x)\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b modeling_deepseek.apply_rotary_pos_emb} (q, k, cos, sin, position_ids, unsqueeze_dim=1)\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
torch.Tensor {\b modeling_deepseek.repeat_kv} (torch.Tensor hidden_states, int n_rep)\par
}
\pard\plain \s3\sb240\sa60\keepn\widctlpar\adjustright \b\f1\cgrid 
Variables\par
\pard\plain 

{
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b modeling_deepseek._prepare_4d_causal_attention_mask} = torch.fx.wrap(_prepare_4d_causal_attention_mask)\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
{\b modeling_deepseek.logger} = logging.get_logger(__name__)\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
str {\b modeling_deepseek._CONFIG_FOR_DOC} = "DeepseekV3Config"\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
dict {\b modeling_deepseek.ATTENTION_CLASSES}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
str {\b modeling_deepseek.DeepseekV3_START_DOCSTRING}\par
\pard\plain \s120\fi-360\li360\widctlpar\jclisttab\tx360{\*\pn \pnlvlbody\ilvl0\ls1\pnrnot0\pndec }\ls1\adjustright \fs20\cgrid 
str {\b modeling_deepseek.DeepseekV3_INPUTS_DOCSTRING}\par
}

\pard\plain \sect\sbkpage
\s1\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs36\kerning36\cgrid 
\s1\sb240\sa60\keepn\widctlpar\adjustright \b\f1\fs36\kerning36\cgrid Index\par 
\pard\plain 
{\tc \v Index}
{\field\fldedit {\*\fldinst INDEX \\c2 \\*MERGEFORMAT}{\fldrslt INDEX}}
}
